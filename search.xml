<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Reason for Future, Act for Now - A Principled Framework for Autonomous LLM Agents with Provable Sample Efficiency</title>
      <link href="/2024/03/23/RAFA/"/>
      <url>/2024/03/23/RAFA/</url>
      
        <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>LLMå…·æœ‰å¾ˆå¼ºçš„æ¨ç†èƒ½åŠ›ï¼Œä½†æ˜¯åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œå°†æ¨ç†è½¬å˜ä¸ºè¡ŒåŠ¨ä¾ç„¶å­˜åœ¨ç€ä¸€å®šçš„é—®é¢˜ã€‚LLMä»é¢„è®­ç»ƒä¸­è·å¾—äº†å¤§é‡çš„å…ˆéªŒçŸ¥è¯†ï¼Œä½†åœ¨ç°å®ä¸–ç•Œä¸­å®ƒæœ¬è´¨ä¸Šä¾ç„¶æ˜¯æ— çŠ¶æ€æ— æ ¹æ®ï¼Œå› æ­¤é‡‡å–çš„å†³ç­–å¾€å¾€ä¸æ˜¯æœ€ä¼˜çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå°±ä½¿ç”¨å¤–éƒ¨åé¦ˆæ¥è¿­ä»£ä¼˜åŒ–è¡ŒåŠ¨ã€‚</p><blockquote><p>ä¼¼ä¹æ˜¯ä¼šå¼•å…¥å¼ºåŒ–å­¦ä¹ æ–¹é¢çš„çŸ¥è¯†ï¼Œæœ€è¿‘å¼ºåŒ–å­¦ä¹ çš„è¯¾ä¹Ÿåœ¨å­¦é©¬å°”å¯å¤«å†³ç­–ï¼Œæœ€ä¼˜ç­–ç•¥ã€æœ€ä¼˜ä»·å€¼ä»€ä¹ˆçš„ã€‚çœ‹äº†å¯¼è¨€è¯´æ˜¯ç”¨promptæ¨¡æ¿ä½œä¸ºé©±åŠ¨ï¼Œä¾æ®å¤–éƒ¨åé¦ˆçš„å†å²ä¿¡æ¯æ›´æ–°promptï¼Œå†ç”±prompté©±åŠ¨å†³ç­–äº§ç”Ÿå’Œä¼˜åŒ–ï¼Œæ„Ÿè§‰åƒè¿™ä¸ªå½¢å¼ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯å…¶å®æˆ‘å†™çš„å°è¯´åˆ›ä½œå¤§æ¨¡å‹çš„ç”Ÿæˆè¿‡ç¨‹å’Œè¿™ä¸€æ¡†æ¶éå¸¸åœ°æ¥è¿‘</p></blockquote><p>ä»–ä»¬ç‰¹åˆ«è€ƒè™‘äº†æ ·æœ¬æ•ˆç‡è¿™ä¸€å› ç´ ï¼Œä¹Ÿå°±æ˜¯ä»–ä»¬çš„ç›®æ ‡æ˜¯è®©æ™ºèƒ½ä½“åœ¨ä¸ç¯å¢ƒå°‘äº¤äº’çš„æƒ…å†µä¸‹ä¾ç„¶èƒ½å®Œæˆç»™å®šä»»åŠ¡ã€‚</p><p>å¼ºåŒ–å­¦ä¹ ç¡®å®åœ¨å¼•è¨€éƒ¨åˆ†è¢«æåˆ°äº†ï¼Œè¯´å¼ºåŒ–å­¦ä¹ æŠ€æœ¯ä¸å¤§æ¨¡å‹ç”±äºç§ç§åŸå› å­˜åœ¨ä¸€å®šå·®å¼‚</p><blockquote><p>å¼ºåŒ–å­¦ä¹ æŠ€æœ¯åœ¨æ•°å­—ç³»ç»Ÿä¸­ï¼Œè€Œå¤§æ¨¡å‹åˆ™æ˜¯è¯­æ³•ç³»ç»Ÿ<br>å¤§æ¨¡å‹ç”±é€šç”¨è¯­æ–™åº“è®­ç»ƒï¼Œå¼ºåŒ–å­¦ä¹ åˆ™åœ¨åé¦ˆä¸è¿­ä»£ä¸­å­¦ä¹ </p></blockquote><p>çœ‹äº†ä¸€ä¸‹æ¡†æ¶å›¾ï¼Œè¿™ä¸ªæ¡†æ¶ä¸»è¦ç”±2ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªå¤–éƒ¨memory buffer,ä¸€ä¸ªagent, agentå†…éƒ¨åˆåŒ…å«æœ‰å­¦ä¹ ä»¥åŠæ¨ç†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå­¦ä¹ æ˜¯é€šè¿‡å¤–éƒ¨è®°å¿†ç¼“å­˜è¾“å…¥åˆ°promptç„¶ååˆå¤§æ¨¡å‹æ›´æ–°åŸºäºå¤–ç•Œåé¦ˆçš„åéªŒçŸ¥è¯†ç„¶åç”Ÿæˆä»·å€¼å‡½æ•°æˆ–è€…å¥–åŠ±è½¬æ¢æ¨¡å‹ï¼Œå†å°†è¿™ä¸€ç»“æœé€åˆ°æ¨ç†æ¨¡å—ï¼Œä¾æ®ä»·å€¼å‡½æ•°æˆ–å¥–åŠ±æ¨¡å‹äº§ç”Ÿä¸€ä¸ªæ ‘çŠ¶çš„å†³ç­–è¿‡ç¨‹ï¼ˆï¼Ÿï¼‰ç„¶åé€‰æ‹©ä»·å€¼æœ€å¤§çš„å†³ç­–è¿‡ç¨‹ï¼Œå¹¶åœ¨å…¶ä¸­é€‰æ‹©ä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨ç«‹å³è¡ŒåŠ¨ï¼Œå¹¶å°†å¤–éƒ¨ç»“æœè½¬å­˜åˆ°å¤–éƒ¨è®°å¿†ä¸­ã€‚</p><blockquote><p>é€šè¿‡ä¸€æ¬¡ç”Ÿæˆé•¿è¿œçš„å†³ç­–è¿‡ç¨‹ï¼Œæ¯æ¬¡ä¾æ®å¤–ç•Œç¯å¢ƒå¯¹å½“å‰å†³ç­–è¿›è¡Œä¼˜åŒ–ï¼Œæ¥é¿å…é¢‘ç¹åœ°ä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’</p></blockquote><p>ç„¶åå°±æ˜¯ä¸€äº›ç›¸å…³æŠ€æœ¯çš„ä»‹ç»ï¼Œæ¯”å¦‚å¤§æ¨¡å‹å’Œin-context learning</p><blockquote><p>in-context learningå°±æ˜¯ä¸€ç§è®©å¤§æ¨¡å‹ä»…é€šè¿‡è§‚å¯Ÿç»™å®šçš„ä¸€ç³»åˆ—ä¾‹å­ï¼ˆå³ä¸Šä¸‹æ–‡ï¼‰æ¥å­¦ä¹ å’Œæ‰§è¡Œæ–°çš„ä»»åŠ¡ï¼Œè€Œæ— éœ€å¤–éƒ¨çš„å‚æ•°æ›´æ–°æˆ–æ˜¾å¼çš„è®­ç»ƒè¿‡ç¨‹ã€‚<br>è´å¶æ–¯æ¡†æ¶ä¸‹çš„å¼ºåŒ–å­¦ä¹ ï¼Œå¤§æ¨¡å‹å„ç§å½¢å¼çš„æ¨ç†ã€ä»¥åŠä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’çš„é—­ç¯æ¡†æ¶ç­‰ç­‰ï¼Œä»¥åŠè¿™äº›å†…å®¹ä¸RAFAçš„è”ç³»</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> å¤§æ¨¡å‹è®ºæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»0æ„å»ºGPT</title>
      <link href="/2024/03/21/small-gpt/"/>
      <url>/2024/03/21/small-gpt/</url>
      
        <content type="html"><![CDATA[<h1 id="bigram-language-model"><a href="#bigram-language-model" class="headerlink" title="bigram language model"></a>bigram language model</h1><p>äºŒå…ƒè¯­è¨€æ¨¡å‹ï¼Œä»…ä»…å…³æ³¨ä¸Šä¸€ä¸ªå•è¯æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯å‡ºç°çš„æ¦‚ç‡ã€‚<br>ä¸æƒ³å†™äº†æ„Ÿè§‰è¿™ä¸ªå¾ˆåŸå§‹</p><h1 id="small-GPT"><a href="#small-GPT" class="headerlink" title="small GPT"></a>small GPT</h1><p>è¿™ä¸ªä»£ç ä»0å¼€å§‹æ„å»ºç®€åŒ–GPTæ¶æ„ï¼ŒGPTæ˜¯decoder onlyçš„æ¶æ„ï¼Œåªéœ€è¦ä¸²åºå åŠ decoderå—å³å¯ã€‚<br>çœ‹çš„è§†é¢‘æ˜¯ä»æ€»ä½“æ¡†æ¶è¿›è¡Œçš„æ„å»ºï¼Œå†é€æ­¥ç»†åŒ–ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç¨å¾®å­¦ä¹ ä»–çš„ç¼–ç æ–¹å¼</p><p>é¦–å…ˆå°±æ˜¯GPTModel,</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GPTLanguageModel</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, vocab_size, block_size, n_embed, n_layer, n_head</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.vocab_size = vocab_size</span><br><span class="line">        self.block_size = block_size <span class="comment"># ä¸€ä¸ªbatchä¸­æ¯ä¸ªå¥å­çš„é•¿åº¦</span></span><br><span class="line">        self.n_embed = n_embed</span><br><span class="line">        self.n_layer = n_layer</span><br><span class="line">        self.n_head = n_head</span><br><span class="line">        self.embedding_table = nn.Embedding(vocab_size, n_embed)</span><br><span class="line">        self.position_embedding = nn.Embedding(block_size, n_embed)</span><br><span class="line">        self.blocks = nn.Sequential(*[Decoder(n_embed=n_embed, n_head=n_head) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n_layer)])</span><br><span class="line">        self.ln_f = nn.LayerNorm(n_embed)</span><br><span class="line">        self.lm_head = nn.Linear(n_embed, vocab_size)</span><br><span class="line"></span><br><span class="line">        self.apply(self._init_weights)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_init_weights</span>(<span class="params">self, module</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(module, nn.Linear):</span><br><span class="line">            torch.nn.init.normal_(module.weight, mean=<span class="number">0.0</span>, std=<span class="number">0.02</span>)</span><br><span class="line">            <span class="keyword">if</span> module.bias <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                torch.nn.init.zeros_(module.bias)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(module, nn.Embedding):</span><br><span class="line">            torch.nn.init.normal_(module.weight, mean=<span class="number">0.0</span>, std=<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, _<span class="built_in">input</span>, target=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="comment"># logitsæ˜¯æ²¡æœ‰ç»è¿‡å½’ä¸€åŒ–çš„æ¨¡å‹è¾“å‡º</span></span><br><span class="line">        <span class="comment"># logits = self.embedding_table(_input)</span></span><br><span class="line">        batch, time = _<span class="built_in">input</span>.shape</span><br><span class="line">        token_emb = self.embedding_table(_<span class="built_in">input</span>)</span><br><span class="line">        posi_emb = self.position_embedding(torch.arange(time, device=device))</span><br><span class="line">        <span class="comment"># print(f&quot;token_em shape = &#123;token_emb.shape&#125;, posi_em shape = &#123;posi_emb.shape&#125;&quot;)</span></span><br><span class="line">        x = token_emb + posi_emb</span><br><span class="line">        x = self.blocks(x)</span><br><span class="line">        x = self.ln_f(x)</span><br><span class="line">        logits = self.lm_head(x)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> target <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            loss = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            batch, time, char = logits.shape</span><br><span class="line">            logits = logits.view(batch*time, char)</span><br><span class="line">            target = target.view(batch*time)</span><br><span class="line">            loss = F.cross_entropy(logits, target)</span><br><span class="line">        <span class="keyword">return</span> logits, loss</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generate</span>(<span class="params">self, _<span class="built_in">input</span>, max_new_tokens</span>):</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(max_new_tokens):</span><br><span class="line">            <span class="comment"># å¯¹æ•´æ•°ç´¢å¼•åºåˆ—è¿›è¡ŒåµŒå…¥</span></span><br><span class="line">            logits, _ = self.forward(_<span class="built_in">input</span>)</span><br><span class="line">            <span class="comment"># ä»£è¡¨é¢„æµ‹ä»…ä»…å…³å¿ƒæœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">            logits = logits[:, -<span class="number">1</span>, :]</span><br><span class="line">            <span class="comment"># print(f&quot;losgits shape = &#123;logits.shape&#125;&quot;)</span></span><br><span class="line">            probs = F.softmax(logits, dim=-<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># print(f&quot;probs shape = &#123;probs.shape&#125;&quot;)</span></span><br><span class="line">            _input_next = torch.multinomial(probs, num_samples=<span class="number">1</span>)</span><br><span class="line">            _<span class="built_in">input</span> = torch.cat((_<span class="built_in">input</span>, _input_next), dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> _<span class="built_in">input</span></span><br></pre></td></tr></table></figure><p>generateæ–¹æ³•è¿˜æ˜¯æœ‰ç‚¹é—®ï¼Œæˆ‘å‘¨æœ«å†è°ƒè¯•ä¸€ä¸‹ï¼Œä¸è¿‡ç°åœ¨æ˜¯èƒ½è®­ç»ƒäº†ï¼Œæ‰“ç®—åˆ°æ—¶å€™æŠŠæ•°æ®é›†åœ¨4090é‚£å°ç”µè„‘ä¸Šä¸‹è½½ä¸€ä¸‹åˆ°4090ç”µè„‘ä¸Šè¿›è¡Œä¸€ä¸ªè®­ç»ƒçœ‹çœ‹ã€‚<br>åŸæœ¬transformerçš„ä½ç½®ç¼–ç æ˜¯å›ºå®šå‡½æ•°ï¼Œä½†æ˜¯GPTä½¿ç”¨å¯å­¦ä¹ çš„åµŒå…¥è¿›è¡Œä½ç½®ç¼–ç </p><p>ç„¶åå°±æ˜¯Decoderå—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Decoder</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_embed, n_head</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="comment"># æ¯ä¸ªå¤´ä¸éœ€è¦æ•è·å…¨éƒ¨çš„ç‰¹å¾ï¼Œè®©æ¯ä¸ªå¤´å¹³å‡åœ°æ•è·n_embedçš„ç‰¹å¾</span></span><br><span class="line">        head_size = n_embed // n_head</span><br><span class="line">        self.multihead = MultiheadAttention(n_embed, n_head, head_size)</span><br><span class="line">        self.ffwd = FeedForward(n_embed)</span><br><span class="line">        self.ln1 = nn.LayerNorm(n_embed)</span><br><span class="line">        self.ln2 = nn.LayerNorm(n_embed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x1 = self.multihead(x)</span><br><span class="line">        x = self.ln1(x + x1)</span><br><span class="line">        x2 = self.ffwd(x)</span><br><span class="line">        x = self.ln2(x + x2)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><p>å‰é¦ˆç¥ç»ç½‘ç»œå°±ä¸æ”¾äº†æŒºç®€å•<br>ç„¶åå°±æ˜¯å¤šå¤´æ³¨æ„åŠ›ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Head</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, head_size, dropout=<span class="number">0.2</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.key = nn.Linear(n_embed, head_size, bias=<span class="literal">False</span>)</span><br><span class="line">        self.query = nn.Linear(n_embed, head_size, bias=<span class="literal">False</span>)</span><br><span class="line">        self.value = nn.Linear(n_embed, head_size, bias=<span class="literal">False</span>)</span><br><span class="line">        <span class="comment"># å‘æ¨¡å‹æ³¨å†Œtrilï¼Œå°±ä¸ç”¨é‡å¤è¿›è¡ŒåŠ è½½</span></span><br><span class="line">        self.register_buffer(<span class="string">&#x27;tril&#x27;</span>, torch.tril(torch.ones(block_size, block_size)))</span><br><span class="line">        self.dropout = nn.Dropout(dropout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># å¯ä»¥å°†timeè§†ä½œtoken</span></span><br><span class="line">        batch, time, channel = x.shape</span><br><span class="line">        k = self.key(x)</span><br><span class="line">        q = self.query(x)</span><br><span class="line">        v = self.value(x)</span><br><span class="line">        att = q @ k.transpose(-<span class="number">2</span>, -<span class="number">1</span>) * k.shape[-<span class="number">1</span>] ** -<span class="number">0.5</span> <span class="comment"># (batch, time, headsize) @ (batch, headsize, time) * dk^-0.5</span></span><br><span class="line">        att = att.masked_fill(self.tril[:time, :time] == <span class="number">0</span>, <span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)) <span class="comment"># (batch, time, time)</span></span><br><span class="line">        att = F.softmax(att, dim=-<span class="number">1</span>)</span><br><span class="line">        att = self.dropout(att)</span><br><span class="line">        <span class="keyword">return</span> att @ v</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MultiheadAttention</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_embed, n_head, head_size, dropout=<span class="number">0.2</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="comment"># modulelistç›¸å½“äºä¸€ä¸ªlistï¼Œå¯ä»¥æ›´è‡ªç”±åœ°å¤„ç†listä¸­æ¯ä¸ªæ¨¡å—åœ°è¾“å…¥è¾“å‡º</span></span><br><span class="line">        self.heads = nn.ModuleList([Head(head_size) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n_head)])</span><br><span class="line">        self.proj = nn.Linear(head_size * n_head, n_embed)</span><br><span class="line">        self.dropout = nn.Dropout(dropout)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># å°†æ¯ä¸ªå¤´æŒ‰ç…§ç‰¹å¾ç»´åº¦è¿›è¡Œç»„åˆï¼Œè®©æ¯ä¸ªæ ·æœ¬çš„æœ€ç»ˆç»´åº¦å˜æˆåŸæ¥çš„n_embed</span></span><br><span class="line">        x = torch.cat([h(x) <span class="keyword">for</span> h <span class="keyword">in</span> self.heads], dim=-<span class="number">1</span>)</span><br><span class="line">        x = self.dropout(self.proj(x))</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><p>æ‹†è§£ä¸‹æ¥è¿˜æ¯”è¾ƒç®€å•ï¼Œ<br>ä¸‹æ¬¡å°±æ˜¯è®­ç»ƒäº†</p>]]></content>
      
      
      
        <tags>
            
            <tag> å¤§æ¨¡å‹å®è·µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„å»ºå¤§æ¨¡å‹çš„å°è¯•</title>
      <link href="/2024/03/21/page/"/>
      <url>/2024/03/21/page/</url>
      
        <content type="html"><![CDATA[<h1 id="æ„å»ºå¤§æ¨¡å‹"><a href="#æ„å»ºå¤§æ¨¡å‹" class="headerlink" title="æ„å»ºå¤§æ¨¡å‹"></a>æ„å»ºå¤§æ¨¡å‹</h1><p>ç»ˆäºå¼€å§‹è¦æ¸…ç©ºBç«™æ”¶è—å¤¹å…³äºå¤§æ¨¡å‹çš„è§†é¢‘äº†<br>æ”¶è— &#x3D;&#x3D; çœ‹è¿‡çš„ä¸ç­‰å¼è¦ä¸»åŠ¨åˆ’æ‰</p><p>åœ¨å‘¨äºŒçš„æ—¶å€™æˆ‘å°±çœ‹äº†ä¸€ä¼š<a href="https://www.bilibili.com/video/BV1vp421o7Ys?vd_source=4414e7cb68c1443baf8d60ed1c992278">ã€Šä»é›¶å¼€å§‹ç”¨Pythonæ­å»ºLLMæ¨¡å‹|Create a LLM from Scratch with Python â€“ Tutorialã€‹</a></p><p>è®²çš„å¾ˆç»†è‡´ï¼Œå¾ˆå¤šåŸºç¡€çš„ä»£ç éƒ½ä¼šå¸¦ä½ è¯•éªŒä¸€éã€‚</p><p>ç„¶ååœ¨å‘¨ä¸‰çš„æ—¶å€™æ˜¯ç‚‰çŸ³æ–°ç‰ˆæœ¬ï¼Œæˆ‘å°±æ²¡æœ‰å­¦ä¹ ï¼Œ<br>æ–°ç‰ˆæœ¬çš„è§¦è¨å¯ä»¥è¯´æ˜¯å¾ˆæœ‰æ„æ€äº†ï¼Œå…»è§¦æ‰‹åˆ°10æ³•æœ¯ä¹‹åå°±ä¼šåªå‡ºæ‰“å¯¹é¢3å’Œæ‰“10å¬10ä¸¤å¼ å¡ï¼Œéå¸¸æœ‰å®åŠ›ã€‚ä½†æ˜¯ç¨³å®šæ€§æŒºå·®åŠ²çš„ï¼Œè¦æƒ³ä¸Šåˆ†æˆ‘è§‰å¾—è¿˜æ˜¯æä¸€ä¸ªæ±¡æ‰‹éª‘æ¯”è¾ƒå¥½ã€‚è¿™ä¸ªæ™šä¸Šå†è¯´ï¼Œ</p><p>ç°åœ¨å°±æ˜¯ç»§ç»­çœ‹ä»0æ„å»ºLLMäº‰å–è®©è‡ªå·±å¯¹LLMçš„å†…éƒ¨æœ‰ä¸€å®šçš„äº†è§£ï¼Œç„¶åçœ‹çœ‹å…³äºhuggingfaceå¼€æºå¤§æ¨¡å‹å¦‚ä½•æ„å»ºåº”ç”¨æ‰©å……ä¸€ä¸‹çŸ¥è¯†é¢ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å°è¯´å¤§æ¨¡å‹</title>
      <link href="/2024/03/18/page/"/>
      <url>/2024/03/18/page/</url>
      
        <content type="html"><![CDATA[<h1 id="å°è¯´ç”Ÿæˆå¤§æ¨¡å‹"><a href="#å°è¯´ç”Ÿæˆå¤§æ¨¡å‹" class="headerlink" title="å°è¯´ç”Ÿæˆå¤§æ¨¡å‹"></a>å°è¯´ç”Ÿæˆå¤§æ¨¡å‹</h1><p>å¾ˆéš¾å—ï¼Œåˆæ­¥æ­å»ºäº†ä¸€ä¸ªå°è¯´ç”Ÿæˆçš„å¤§æ¨¡å‹æ¡†æ¶ï¼Œæƒ³æ³•æ˜¯ç”¨prompt_configæ¥è”ç³»æ¯ä¸€æ¬¡è¿­ä»£æ—¶å€™çš„å¤§æ¨¡å‹ï¼Œåœ¨prompt_configä¸­è®¾ç½®å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">prompt_config = &#123;</span><br><span class="line">    <span class="string">&quot;model_prompt&quot;</span>: <span class="string">&quot;Write a continuation of the novel LLM, focusing on the unfolding events and character developments.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;background&quot;</span>: <span class="string">&quot;In a dystopian future, where society is divided by technology and natural resources are dwindling,&quot;</span>,</span><br><span class="line">    <span class="string">&quot;characters&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;Alex&quot;</span>: <span class="string">&quot;a tech-savvy rebel fighting against the oppressive regime&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Jordan&quot;</span>: <span class="string">&quot;a loyalist to the regime, torn between duty and a growing sense of injustice&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Mia&quot;</span>: <span class="string">&quot;a mysterious figure with knowledge that could tip the scales of power&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;history_summary&quot;</span>: <span class="string">&quot;After a daring raid on a regime supply depot, Alex and their group find themselves pursued by an elite force led by Jordan. Amidst the chaos, they encounter Mia, who reveals a secret that could change everything.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;preview_summary&quot;</span>: <span class="string">&quot;The trio must navigate their conflicting loyalties and the dangers of a society on the brink of collapse to bring hope to the oppressed.&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªè¦ç”¨è¿™ä¸ªåšæˆä¸€ä¸ªpromptä¼ ç»™å¤§æ¨¡å‹ï¼Œå¤§æ¨¡å‹åº”è¯¥å°±ä¸éœ€è¦éå¸¸å·¨å¤§çš„ä¸Šæ–‡æ£€ç´¢äº†ï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯åªåœ¨prompt_configä¸­æ„å»ºpromptï¼Œæ¯æ¬¡ä¼ å…¥çš„promptåº”è¯¥éƒ½æ˜¯å·®ä¸å¤šå¤§å°çš„ï¼Œå¤§æ¨¡å‹å¦‚æœé¦–æ¬¡å¯ä»¥ç”Ÿæˆæ–‡ç« ï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—å¤§æ¨¡å‹å°±å¯ä»¥ä¾æ®è¿™ä¸ªprompt_configç”Ÿæˆä»»æ„é•¿åº¦çš„æ–‡ç« äº†ã€‚</p><p><strong>ä½†æ˜¯è¿˜æ˜¯æ˜¾å­˜ä¸å¤Ÿ</strong></p><p>å°è¯´ç”Ÿæˆçš„æµç¨‹ä¸»è¦å¦‚ä¸‹ï¼š</p><ol><li>é¦–å…ˆç”¨æˆ·è®¾å®šprompt_configï¼Œä¹Ÿå°±æ˜¯æ•…äº‹èƒŒæ™¯å’Œäººç‰©ï¼Œå·²ç»å‘ç”Ÿçš„äº‹æƒ…å’Œå°†è¦å‘ç”Ÿçš„äº‹æƒ…</li><li>ç„¶åä½¿ç”¨prompt_configç”Ÿæˆprompt<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_prompt</span>(<span class="params">prompt_config</span>):</span><br><span class="line">    prompt = prompt_config[<span class="string">&quot;model_prompt&quot;</span>]</span><br><span class="line">    prompt += <span class="string">f&quot; here is the background you need to follow, background is <span class="subst">&#123;prompt_config[<span class="string">&#x27;background&#x27;</span>]&#125;</span>,&quot;</span></span><br><span class="line">    prompt += <span class="string">f&quot; and there is a history story: <span class="subst">&#123;prompt_config[<span class="string">&#x27;history_summary&#x27;</span>]&#125;</span>.&quot;</span></span><br><span class="line">    prompt += <span class="string">f&quot; the story will going on as: <span class="subst">&#123;prompt_config[<span class="string">&#x27;preview_summary&#x27;</span>]&#125;</span>.&quot;</span></span><br><span class="line">    prompt += <span class="string">&quot; here are some characters you may use in the story&quot;</span></span><br><span class="line">    <span class="keyword">for</span> character, description <span class="keyword">in</span> prompt_config[<span class="string">&quot;characters&quot;</span>].items():</span><br><span class="line">        prompt += <span class="string">f&quot; <span class="subst">&#123;character&#125;</span> is a <span class="subst">&#123;description&#125;</span>,&quot;</span></span><br><span class="line">    <span class="comment"># Removing the last comma for proper grammar</span></span><br><span class="line">    prompt = prompt.rstrip(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> prompt</span><br></pre></td></tr></table></figure></li><li>å°†promptä¼ å…¥æ¨¡å‹è®©å®ƒè¿›è¡Œå°è¯´ç”Ÿæˆï¼Œç„¶åä¾æ®ç”Ÿæˆçš„å°è¯´æ€»ç»“å·²ç»å‘ç”Ÿçš„æ•…äº‹å¹¶å†™å‡ºæœªæ¥å°†è¦å†™çš„å†…å®¹<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">write_novel</span>(<span class="params">model, prompt_config, iteration_num</span>):</span><br><span class="line">    prompt = build_prompt(prompt_config)</span><br><span class="line">    novel = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(iteration_num)):</span><br><span class="line">        input_ids = tokenizer(prompt, return_tensors=<span class="string">&quot;pt&quot;</span>).input_ids</span><br><span class="line">        output = model.generate(</span><br><span class="line">            input_ids,</span><br><span class="line">            max_new_tokens=<span class="number">1000</span>,  <span class="comment"># è®¾å®šæœ€å¤§é•¿åº¦</span></span><br><span class="line">            temperature=<span class="number">0.9</span>,  <span class="comment"># è°ƒæ•´åˆ›é€ æ€§</span></span><br><span class="line">            top_k=<span class="number">50</span>,</span><br><span class="line">            top_p=<span class="number">0.95</span>,</span><br><span class="line">            repetition_penalty=<span class="number">1.2</span>,  <span class="comment"># å‡å°‘é‡å¤å†…å®¹</span></span><br><span class="line">            pad_token_id=tokenizer.eos_token_id</span><br><span class="line">        )</span><br><span class="line">        generate = tokenizer.decode(output[<span class="number">0</span>], skip_special_tokens=<span class="literal">True</span>) + <span class="string">&quot;\n&quot;</span></span><br><span class="line">        novel += generate</span><br><span class="line">        summ = [summarize_story(model, generate), generate_preview(model, generate)]</span><br><span class="line">        prompt_config = upgrade_prompt(summ, prompt_config)</span><br><span class="line">        prompt = build_prompt(prompt_config)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> novel</span><br></pre></td></tr></table></figure></li><li>æ€»ç»“æ–‡ç« å’Œé¢„æµ‹ä¸‹æ–‡éƒ½ä½¿ç”¨å½“å‰è¿­ä»£ç”Ÿæˆçš„å°è¯´æ­£æ–‡<blockquote><p>ä¸ºäº†é¿å…å¤§æ¨¡å‹æ¦‚æ‹¬çš„ä¸€å¨ï¼Œæ€»ç»“æ–‡ç« å°±åªä¼ å…¥äº†æ­£æ–‡è€Œæ²¡æœ‰ä¹‹å‰çš„å†å²ä¿¡æ¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">summarize_story</span>(<span class="params">model, context</span>):</span><br><span class="line">    prompt = <span class="string">f&quot;there was a text that you should summarize it, you should summarize what is going on, you dont need to mention this prompt here is the text = <span class="subst">&#123;context&#125;</span>&quot;</span></span><br><span class="line">    input_ids = tokenizer(prompt, return_tensors=<span class="string">&quot;pt&quot;</span>).input_ids</span><br><span class="line">    output = model.generate(</span><br><span class="line">        input_ids,</span><br><span class="line">        max_new_tokens=<span class="number">500</span>,  <span class="comment"># è®¾å®šæœ€å¤§é•¿åº¦</span></span><br><span class="line">        temperature=<span class="number">0.3</span>,  <span class="comment"># è°ƒæ•´åˆ›é€ æ€§</span></span><br><span class="line">        top_k=<span class="number">50</span>,</span><br><span class="line">        top_p=<span class="number">0.95</span>,</span><br><span class="line">        repetition_penalty=<span class="number">1.2</span>,  <span class="comment"># å‡å°‘é‡å¤å†…å®¹</span></span><br><span class="line">        pad_token_id=tokenizer.eos_token_id</span><br><span class="line">    )</span><br><span class="line">    generated_text = tokenizer.decode(output[<span class="number">0</span>], skip_special_tokens=<span class="literal">True</span>)</span><br><span class="line">    split_text = <span class="string">&quot;**Summary:**&quot;</span></span><br><span class="line">    <span class="keyword">return</span> extract_summary(generated_text, split_text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_preview</span>(<span class="params">model, context</span>):</span><br><span class="line">    prompt = <span class="string">f&quot;there was a text that you should tell me what will happen in the futuer, text is <span class="subst">&#123;context&#125;</span>&quot;</span></span><br><span class="line">    input_ids = tokenizer(prompt, return_tensors=<span class="string">&quot;pt&quot;</span>).input_ids</span><br><span class="line">    output = model.generate(</span><br><span class="line">        input_ids,</span><br><span class="line">        max_new_tokens=<span class="number">500</span>,  <span class="comment"># è®¾å®šæœ€å¤§é•¿åº¦</span></span><br><span class="line">        temperature=<span class="number">0.7</span>,  <span class="comment"># è°ƒæ•´åˆ›é€ æ€§</span></span><br><span class="line">        top_k=<span class="number">50</span>,</span><br><span class="line">        top_p=<span class="number">0.95</span>,</span><br><span class="line">        repetition_penalty=<span class="number">1.2</span>,  <span class="comment"># å‡å°‘é‡å¤å†…å®¹</span></span><br><span class="line">        pad_token_id=tokenizer.eos_token_id</span><br><span class="line">    )</span><br><span class="line">    generated_text = tokenizer.decode(output[<span class="number">0</span>], skip_special_tokens=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># split_text = &quot;**Summary:**&quot;</span></span><br><span class="line">    <span class="comment"># return extract_summary(generated_text, split_text)</span></span><br><span class="line">    <span class="keyword">return</span> generated_text</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upgrade_prompt</span>(<span class="params">summarize, prompt_config</span>):</span><br><span class="line">    prompt_config[<span class="string">&quot;history_summary&quot;</span>] = summarize[<span class="number">0</span>]</span><br><span class="line">    prompt_config[<span class="string">&quot;preview_summary&quot;</span>] = summarize[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> prompt_config</span><br><span class="line">    </span><br></pre></td></tr></table></figure>å› ä¸ºå¤§æ¨¡å‹çš„è¾“å‡ºåŒ…æ‹¬å¾ˆå¤šéƒ¨åˆ†ï¼Œå› æ­¤éœ€è¦å¯¹æŒ‡å®šå†…å®¹è¿›è¡Œæå–<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">extract_summary</span>(<span class="params">text, split_text</span>):</span><br><span class="line">    <span class="comment"># Find the position where &quot;Summary:&quot; occurs</span></span><br><span class="line">    start_index = text.find(split_text)</span><br><span class="line">    <span class="keyword">if</span> start_index != -<span class="number">1</span>:</span><br><span class="line">        <span class="comment"># Extract everything after &quot;Summary:&quot;</span></span><br><span class="line">        summary_text = text[start_index + <span class="built_in">len</span>(split_text):].strip()</span><br><span class="line">        <span class="keyword">return</span> summary_text</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;split_text&#125;</span> not found.&quot;</span></span><br></pre></td></tr></table></figure></li></ol><p>æ˜æ˜æ¯æ¬¡ä¼ å…¥çš„ä¿¡æ¯éƒ½åªæœ‰ä¸€ä¸ªprompt_configï¼Œä½†æ˜¯æç¤ºè¾“å…¥çš„å¤§å°è¶Šæ¥è¶Šå¤§äº†ï¼Œè€Œä¸”æœ€åç›´æ¥æ˜¾å­˜æŠ¥ä¸å¤Ÿäº†</p><p>ä¸æ˜¯å¾ˆæ˜ç™½é—®é¢˜åˆ°åº•å‡ºåœ¨å“ª</p><p>è¦åƒé¥­äº†æˆ‘å†³å®šä¸‹æ¬¡æœ‰ç©ºå†ä¼˜åŒ–ä¸€ä¸‹ï¼Œä¸‹åˆçœ‹çœ‹è®ºæ–‡ï¼Œçœ‹çœ‹æˆ‘èƒ½ä¸èƒ½æƒ³åˆ°åˆ«çš„æœ‰è¶£çš„ä¸œè¥¿åšã€‚</p><h1 id="å…³äºä¸€ç‚¹prompt-learningå’Œæƒ³æ³•"><a href="#å…³äºä¸€ç‚¹prompt-learningå’Œæƒ³æ³•" class="headerlink" title="å…³äºä¸€ç‚¹prompt learningå’Œæƒ³æ³•"></a>å…³äºä¸€ç‚¹prompt learningå’Œæƒ³æ³•</h1><p>ä¸‹åˆä¹Ÿæ²¡å¹²ä»€ä¹ˆï¼Œ<br>å°±æ˜¯åˆåœ¨çœ‹å¤§æ¨¡å‹çš„æ•™å­¦è§†é¢‘<br>è®²çš„æ˜¯prompt learningçš„ä¸œè¥¿ï¼Œè¯´æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨80Bä»¥ä¸Šçš„æ¨¡å‹è¿›è¡Œå¾®è°ƒä¼šæ¯”è¾ƒå¥½<br>ç„¶åpromptæœ‰äººå·¥ç”Ÿæˆæ¨¡æ¿å’Œè‡ªåŠ¨ç”Ÿæˆæ¨¡æ¿çš„æ”¾æ³•ï¼Œå…·ä½“æˆ‘ä¹Ÿä¸äº†è§£<br>æˆ‘æ„Ÿè§‰è¦çœ‹è¿™äº›ä¸œè¥¿æˆ‘æœ€å¥½èƒ½è‡ªå·±æ‰‹åŠ¨å†™ä¸€ä¸ª<strong>å¤§æ¨¡å‹å‡ºæ¥</strong>ï¼Œå¥½åƒä¹Ÿæœ‰è¿™æ–¹é¢çš„è§†é¢‘ï¼Œæ˜å¤©å¼€å§‹å¯ä»¥çœ‹çœ‹ã€‚</p><p>è¿™ä¸ªå¤§æ¨¡å‹çš„æ•™å­¦è§†é¢‘æˆ‘å¸Œæœ›æ˜¯è¿™å‘¨èƒ½çœ‹å®Œï¼Œå…³äºè®ºæ–‡ä»€ä¹ˆçš„ä¹Ÿå°±æ˜¯ç ”ç©¶æ–¹å‘çš„æˆ‘å¸Œæœ›æ˜¯ä¸‹ä¸ªæœˆå¼€å§‹æ¸è¿›å¼çœ‹ï¼Œç„¶åè¿™ä¸ªæœˆå’Œä¸‹ä¸ªæœˆçš„ç›®æ ‡å°±æ˜¯çœ‹å®Œæ•™ç¨‹å’Œå®è·µå¤§æ¨¡å‹ã€‚</p><h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1><ul><li>[ ]çœ‹å®Œæ¸…åçš„å¤§æ¨¡å‹æ•™å­¦è§†é¢‘</li><li>[ ]æ‰¾ä¸€äº›è‡ªå·±åŠ¨æ‰‹ç¼–å†™å¤§æ¨¡å‹çš„è§†é¢‘</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å¤§æ¨¡å‹å®è·µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸Šç½‘çš„ä¸€å¤©</title>
      <link href="/2024/03/17/page/"/>
      <url>/2024/03/17/page/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»Šå¤©æœ¬æ¥æ˜¯è¦ä¼‘æ¯çš„"><a href="#ä»Šå¤©æœ¬æ¥æ˜¯è¦ä¼‘æ¯çš„" class="headerlink" title="ä»Šå¤©æœ¬æ¥æ˜¯è¦ä¼‘æ¯çš„"></a>ä»Šå¤©æœ¬æ¥æ˜¯è¦ä¼‘æ¯çš„</h1><p>æ˜¨å¤©å‘¨å…­ï¼Œæˆ‘æŠŠå‘¨æŠ¥å†™äº†ï¼Œé‡Œé¢å†™çš„å‘¨æ—¥æ„Ÿå†’å‘çƒ§ä¼‘æ¯ä¸€å¤©<del>åæ­£è€å¸ˆä¹Ÿä¸çŸ¥é“æˆ‘æ˜¯ä¸æ˜¯çœŸçš„æ„Ÿå†’å‘çƒ§</del><br>ä½†æ˜¯ä»Šå¤©ä¸‹åˆæœ‰ä¸ªç­ä¼šï¼Œæˆ‘ä¸æƒ³åœ¨å¯å®¤å¾…åˆ°ç­ä¼šå¼€å§‹å†å‡ºå»åˆå›æ¥ï¼Œæ‰€ä»¥æˆ‘å¹²è„†å°±ä¸ä¼‘æ¯äº†ã€‚</p><p>ä»Šå¤©çš„è®¡åˆ’å°±æ˜¯å°è¯•ä¸€ä¸‹Devin å¹¶ä¸”ç€æ‰‹å¼€å§‹æˆ‘çš„å¤§æ¨¡å‹å¾®è°ƒ</p><blockquote><p>æ˜¯çš„æˆ‘è¿˜æ˜¯ç”¨å›äº†åŸæ¥çš„ç®—åŠ›å¹³å°ï¼Œå¹¶ä¸”è¿˜æ˜¯4090ï¼Œè™½ç„¶å¾ˆå¿ƒç—›ä½†æ˜¯è¦ç”¨å°±è¦ç”¨æœ€å¥½æœ€å®‰å…¨çš„</p></blockquote><p>åœ¨æœç´¢Devinçš„æ—¶å€™å¹¶æ²¡æœ‰çœ‹åˆ°èƒ½ç›´æ¥ä½¿ç”¨Devinï¼Œè€Œæ˜¯æ‰¾åˆ°äº†ä»–ä»¬å®˜æ–¹å‘çš„blogé‡Œé¢æœ‰ç”³è¯·ä½¿ç”¨Devinçš„è°ƒæŸ¥é—®å·ï¼Œæˆ‘å°±å¼€å§‹å¡«ã€‚é—®å·é‡Œæœ‰ä¸ªlinkedin profileæˆ‘ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæˆ‘å°±å»é—®äº†gptï¼Œå®ƒè¯´æ˜¯ä¸ªäººç®€å†ç½‘ç«™ï¼Œæˆ‘æƒ³æƒ³ä»¥åå¯ä»¥å†™ä¸€ä¸ªè¿™ä¸ªï¼Œç­‰åˆ«äººè¦æˆ‘èµ„æ–™çš„æ—¶å€™æˆ‘æŠŠè¿™ä¸ªé“¾æ¥ç”©è¿‡å»å°±å¾ˆå¸…å¾ˆé…·ã€‚</p><blockquote><p>ç”¨çš„googleé‚®ç®±æ”¶Devinçš„åé¦ˆçš„ï¼Œè®°å¾—å»çœ‹æ”¶ä»¶ç®±</p></blockquote><p>æˆ‘è¿˜æ‰¾åˆ°äº†ä¸€ä¸ªaiå¹¿åœºç±»ä¼¼çš„ä¸œè¥¿ï¼Œä¸“é—¨æ€»ç»“ä¸€äº›çƒ­é—¨çš„aiï¼Œ<a href="https://top.aibase.com/">åœ¨è¿™é‡Œ</a></p><h1 id="å¼€å§‹äº†æˆ‘çš„å°è¯´æ¨¡å‹çš„æ„å»º"><a href="#å¼€å§‹äº†æˆ‘çš„å°è¯´æ¨¡å‹çš„æ„å»º" class="headerlink" title="å¼€å§‹äº†æˆ‘çš„å°è¯´æ¨¡å‹çš„æ„å»º"></a>å¼€å§‹äº†æˆ‘çš„å°è¯´æ¨¡å‹çš„æ„å»º</h1><p>ä»Šå¤©çœ‹äº†ä¸‹Fine-tuningå’Œpromptï¼Œæ„Ÿè§‰å’Œæˆ‘ä¹‹å‰æƒ³çš„ä¼¼ä¹ä¸å¤ªä¸€æ ·ã€‚<br>æˆ‘å°±ä»promptæ–¹å¼å…¥æ‰‹ï¼Œæˆ‘æ‰“ç®—æ„å»ºä¸€ä¸ªprompt_configï¼Œé‡Œé¢å­˜å‚¨æ•…äº‹èƒŒæ™¯ã€äººç‰©åŠå…¶æ€§æ ¼ã€ç„¶åæ˜¯å†å²æ•…äº‹ä»¥åŠæœªæ¥å‰§æƒ…èµ°å‘ã€‚</p><p>æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­ç”±å¤§æ¨¡å‹ä¾æ®èƒŒæ™¯å’Œäººç‰©å’Œå†å²æ¦‚è¦ä»¥åŠæœªæ¥å‰§æƒ…èµ°å‘ç”Ÿæˆæ–°æ–‡æœ¬ï¼Œç„¶åæ€»ç»“æ–°æ–‡æœ¬æ›¿ä»£ä¹‹å‰çš„å†å²æ•…äº‹ï¼Œç„¶åå†ç”±å¤§æ¨¡å‹æ ¹æ®èƒŒæ™¯æ•…äº‹å’Œå†å²æ•…äº‹å†™ä¸€ä¸ªæœªæ¥å‰§æƒ…èµ°å‘æ›¿ä»£åŸæœ¬çš„å‰§æƒ…èµ°å‘ã€‚</p><blockquote><p>è¦æ³¨æ„çš„æ˜¯<strong>å¤§æ¨¡å‹æœ€å¥½æ³¨æ„åˆ°å½“å‰ç”Ÿæˆæ–‡æœ¬çš„æ¦‚æ‹¬ä¸ä¸Šä¸€æ¬¡è¿­ä»£ç”Ÿæˆçš„æœªæ¥å‰§æƒ…èµ°å‘æ˜¯å¦ç›¸ä¸€è‡´</strong></p><p>å°è¯´ä¼šå‡ºç°çš„äººç‰©æ˜¯å¦ä¼šä»…ä»…å±€é™äºå·²ç»ç»™çš„è§’è‰²ï¼Œå¤§æ¨¡å‹æ˜¯å¦å¯ä»¥è‡ªå·±æ„é€ ä¸€ä¸ªæ–°è§’è‰²ä½¿å¾—å…¶å‰§æƒ…å®Œæ•´å¹¶å¡«å……å…¥prompt_configä¸­</p><p>å°è¯´ç‰‡æ®µä¸­æ˜¯å¦ä¼šå‡ºç°å…¨éƒ¨è§’è‰²ï¼Œåœ¨æŸäº›åœºæ™¯ä¸­å¯ä»¥åªå‡ºç°éƒ¨åˆ†è§’è‰²ï¼Œä»¥åŠè§’è‰²å¯èƒ½ç»å†æŸäº›äº‹ä»¶åå‡ºç°æ€§æ ¼æ–¹é¢çš„æ”¹å˜ã€‚</p><p>è§’è‰²åœ¨ç»è¿‡ä¸€äº›äº‹ä»¶ä¸­ï¼Œè§’è‰²èƒŒæ™¯åº”å½“æœ‰æ‰€æ”¹å˜</p><p>å¤§æ¨¡å‹èƒ½å¦æ³¨æ„åˆ°åˆ°å½“å‰å‰§æƒ…èµ°å‘åœ¨ä¸»çº¿ä¸­å·²ç»åˆ°äº†ä»€ä¹ˆæ­¥éª¤</p></blockquote><h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1><ul><li><input checked="" disabled="" type="checkbox"> å°è¯´å¤§æ¨¡å‹agentåˆæ­¥æ¡†æ¶</li><li><input disabled="" type="checkbox"> GPT-HateCheck: Can LLMs Write Better Functional Tests for Hate Speech Detection?</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¯çƒå½±åŸä¸€æ—¥æ¸¸</title>
      <link href="/2024/03/16/%E7%8E%AF%E7%90%83%E5%BD%B1%E5%9F%8E%E5%90%8E%E8%AE%B0/"/>
      <url>/2024/03/16/%E7%8E%AF%E7%90%83%E5%BD%B1%E5%9F%8E%E5%90%8E%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¯çƒå½±åŸ"><a href="#ç¯çƒå½±åŸ" class="headerlink" title="ç¯çƒå½±åŸ"></a>ç¯çƒå½±åŸ</h1><p>3-14å·å»äº†ç¯çƒå½±åŸç©ï¼Œä¸€å¤©èµ°äº†å°†è¿‘3Wæ­¥ã€‚</p><blockquote><p>åœ¨ç¯çƒå½±åŸç©è®©æˆ‘æœ‰äº†è§¦ç¢°ç°å®çš„æ„Ÿè§‰ï¼Œå°†æˆ‘ä»è™šæ‹Ÿçš„æ·±æ¸Šå¾€ä¸Šæäº†ä¸€æ,æ¯å¤©éƒ½é¢å¯¹ç€ç”µè„‘ï¼Œè®©æˆ‘å¯¹äºç°å®æ—¶é—´çš„æ„ŸçŸ¥å…å¾—æ„šé’</p></blockquote><p>ä»åœ°é“å£å‡ºæ¥ä¹‹åå°±æ˜¯å®‰æ£€ï¼Œå®‰æ£€è¿›å»å°±æ˜¯ä¸€ä¸ªå¤§çš„å¹¿åœºï¼Œå¹¿åœºä¸»è¦æ˜¯å–ä¸€äº›åƒçš„å’Œå‘¨è¾¹ï¼Œæ„Ÿè§‰ä¼°è®¡ä¸€é¡¿é¥­å¾—äººå‡100å¤šåœ¨è¿™é‡Œã€‚ç„¶åè¿‡ä¸€ä¸ªæ¡¥å°±åˆ°äº†ç¯çƒå½±åŸçš„å¤§é…’åº—ï¼Œè¿›å»æ˜¯ä¸€ä¸ªå•†å“è¡—ï¼Œè¿™ä¸ªå•†å“è¡—æ™šä¸Šå¼€ç¯ä¹‹åç‰¹åˆ«æœ‰æ„Ÿè§‰ï¼Œç‰¹åˆ«æ˜¯æ²¿ç€è¡—èµ°åˆ°æ¹–è¾¹çš„çš„å·¦æ‰‹è¾¹æœ‰ä¸ªé¥­åº—ï¼Œé¥­åº—é—¨å£åœäº†å‡ è¾†è½¦ï¼Œç‰¹åˆ«æœ‰ç¾å‰§çš„æ„Ÿè§‰ã€‚</p><p>é‚£å¤©æˆ‘æ¸¸ç©çš„é¡ºåºæ˜¯å…ˆé™ªåŒå­¦å»åéœ¸å¤©è™è¿‡å±±è½¦</p><blockquote><p>è¿™æ¬¡æˆ‘æ²¡æœ‰åï¼Œæœ‰ç‚¹å®³æ€•çš„</p></blockquote><p>ç„¶ååäº†å¤§é»„èœ‚è½¬åœˆåœˆï¼Œå°±æ˜¯ä¸€ä¸ªæ—‹è½¬çš„æ¯å­åœ¨æ—‹è½¬çš„åœ°å°ä¸Šï¼Œè¿™ä¸ªæ—‹è½¬çš„æ¯å­ä¼¼ä¹å¯ä»¥äººæ‰‹åŠ¨æ§åˆ¶æ—‹è½¬é€Ÿåº¦ï¼Œä½†å› ä¸ºæˆ‘ä»¬è·Ÿä¸€å¯¹å‡ºæ¥ç©çš„è€çˆ·çˆ·è€å¤ªå¤ªååœ¨ä¸€ä¸ªæ¯å­é‡Œï¼Œå°±æ²¡æœ‰åšä¸€äº›å¾ˆåçš„äº‹</p><p>éšåå»äº†ç«ç§äº‰å¤ºæˆ˜ï¼Œè®©ä½ åä¸€ä¸ªè½¦å­é‡Œï¼Œç„¶åæ²‰æµ¸æŠ¢å¤ºç«ç§ï¼Œä¸æ˜¯å¾ˆå“äººä¹Ÿä¸æ˜¯ç‰¹åˆ«æœ‰æ„æ€ï¼Œç®—æ˜¯é¥­å‰ç”œç‚¹å§ã€‚</p><p>å˜å½¢é‡‘åˆšå‡ºæ¥ä¹‹åå»çš„æ˜¯åŠŸå¤«ç†ŠçŒ«ï¼Œè¿™å—åœ°æ–¹å®Œå…¨å°±æ˜¯ä¸ºå°æœ‹å‹å‡†å¤‡çš„ï¼Œç©çš„æ—‹è½¬æœ¨é©¬å•Šé£å¤©ç¯ç¬¼å•Šï¼Œç©ç€å¾ˆèˆ’æœä¹Ÿå¾ˆæƒ¬æ„ï¼Œä½†æ˜¯ç©ä¸€ä¼šå°±æ²¡äº†ï¼Œé‡Œé¢æœ‰ä¸ªå¨±ä¹è®¾æ–½ä¸“ä¾›å°æœ‹å‹ç©ï¼Œæˆ‘ä¹Ÿæƒ³ç©ã€‚</p><p>ç„¶åå°±å»äº†å°é»„äººçš„å®¤å†…æ¸¸ä¹å›­ï¼Œæœ‰ä¸ªå°è¿‡å±±è½¦å’Œé£å¤©æ—‹è½¬çš„å’Œé‚£ä¸ªåŠŸå¤«ç†ŠçŒ«å·®ä¸å¤šçš„ï¼Œå®ƒå¯ä»¥è‡ªå·±æ§åˆ¶é£å¤©çš„é«˜åº¦ï¼Œä½†æ˜¯æˆ‘ä»¬åçš„åæ’ï¼Œåªèƒ½å‰æ’æ§åˆ¶é£è¡Œé«˜åº¦ã€‚è¿™ä¸ªå°é»„äººè¿‡å±±è½¦æ˜¯æˆ‘åœ¨ç¯çƒå½±åŸåçš„ç¬¬ä¸€ä¸ªè¿‡å±±è½¦ï¼Œç›¸å¯¹æ¥è¯´è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œä½†æ˜¯è½¬å‡ åœˆå°±æ²¡äº†ã€‚</p><p>åˆ°äº†ä¸­åˆå°±æ˜¯èŠ±è½¦ç¯èŠ‚ï¼Œæ‹äº†å¾ˆå¤šç…§ï¼Œå°é»„äººè¡—åŒºçš„è½¬è§’ç‰¹åˆ«æœ‰æ„Ÿè§‰ï¼Œåƒåœ¨åŠ¨ç”»é‡Œä¸€æ ·ã€‚</p><p>ç„¶åå»äº†æœªæ¥æ°´ä¸–ç•Œï¼Œæ¼”å‘˜éƒ½å¾ˆæ•¬ä¸šï¼Œè€Œä¸”çˆ†ç ´ç‰¹æ•ˆå’Œé£æœºå†²å‡ºæ¥çš„æ—¶å€™è§‚æ„Ÿç‰¹åˆ«ç‰¹åˆ«å¥½ï¼Œé£æœºå‡ºæ¥é‚£ä¸‹æˆ‘è¿˜ä»¥ä¸ºæ˜¯ç‰¹æ•ˆï¼Œä¹‹åå‡†å¤‡å»å“ˆåˆ©æ³¢ç‰¹ï¼Œè·¯ä¸Šè¢«ç©¿è¶Šä¾ç½—çºªæˆªèƒ¡äº†ï¼Œå¥½ç©å¾ˆåˆºæ¿€ï¼Œç„¶åå°±è¢«æ‹‰å»åéœ¸å¤©è™äº†ã€‚</p><blockquote><p>éœ¸å¤©è™éå¸¸åˆºæ¿€ï¼Œå¥½ç©å—ä¹Ÿä¸ä¸€å®šå¥½ç©ï¼Œç”Ÿç†ä¸ŠæŠ˜ç£¨çš„é¡¹ç›®è¿™ç§è¿‡å±±è½¦ï¼Œåˆºæ¿€å’Œçˆ½æ˜¯çœŸçš„ï¼Œå¥½ç©æˆ‘çœ‹æœªå¿…çš„</p></blockquote><p>ç„¶åå°±æ˜¯çˆ½åˆ°äº†ï¼Œå»åäº†ğŸ¦…ğŸé£è¡Œï¼Œè¿™ä¸ªæ˜¯ä¸“é—¨æ‹æ—¥è½çš„ï¼Œåå®Œéœ¸å¤©è™ä¹‹åå›­åŒºå…¶å®ƒçš„è¿‡å±±è½¦ç±»å‹çš„é¡¹ç›®éƒ½æ„Ÿè§‰æ²¡ä»€ä¹ˆæ„Ÿè§‰äº†ï¼Œç„¶åå°±æ˜¯ç‰¹åˆ«ç‰¹åˆ«å¥½ç©çš„å“ˆåˆ©æ³¢ç‰¹ç¦å¿Œä¹‹æ—…ï¼Œå‰§æƒ…å¯èƒ½æ¯”è¾ƒåŒ†å¿™ï¼Œä½†æ˜¯æ•´ä½“éå¸¸å¥½ç©ï¼Œè¿˜æœ‰ä¾ç½—çºªå¤§å†’è¡€ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯æ²‰æµ¸å¼éª‘ä¹˜å¼çš„ï¼Œéå¸¸æœ‰æ„æ€éå¸¸å€¼å¾—ã€‚</p><p>æ™šé¥­åœ¨å“ˆåˆ©æ³¢ç‰¹çš„é¤å…åƒçš„ï¼Œ118å…ƒæ’éª¨çƒ¤é¸¡æ‹¼ç›˜ï¼Œé¸¡è…¿é—»ç€åƒç€éƒ½å¾ˆé¦™ï¼ŒåœŸè±†ä¸å¥½åƒï¼Œæ’éª¨è¿˜è¡Œï¼Œå°±æ˜¯åœ¨å¤–é¢åç€åƒåˆ°æ’éª¨çš„æ—¶å€™å·²ç»å†·äº†ï¼Œæ’éª¨çš„é…±è¿˜ä¸é”™ï¼Œå°±æ˜¯å¼„åˆ°è¡£æœä¸Šäº†å¾ˆéš¾æ´—ï¼Œç‰ç±³æ»¡åˆ†ï¼ŒKFCç‰ç±³ï¼Œå¾ˆç”œä¹Ÿå¾ˆå¤šæ±ï¼Œå”¯ä¸€ä¸è¶³çš„æ˜¯æ²¡æœ‰ç‚¹é¥®æ–™ã€‚</p><p>ç©ä¸€å¤©å¾ˆç´¯ä¹Ÿå¾ˆå¼€å¿ƒï¼Œæ™šä¸Šåˆ°åœ°é“ç›´æ¥æ‰¾æ°´å–ï¼Œè™½ç„¶æˆ‘å¸¦äº†æ°´æ¯ä½†æ˜¯æˆ‘æ²¡æ‰¾åˆ°å€’é¥®ç”¨æ°´çš„åœ°æ–¹ï¼Œé‚£ä¸ªç›´é¥®æ°´æˆ‘ä¸ä¼šç”¨ã€‚ã€‚ã€‚ã€‚</p><p>å¥½äº†ï¼Œå›åˆ°å­¦æ ¡äº†ï¼Œä»Šå¤©å‘¨æœ«ï¼Œè¦å¹²å˜›å‘¢ï¼Œå†™å®Œè¿™ä¸ªå†™ä¸€ä¸‹å‘¨æŠ¥ï¼Œåœ¨æŠŠæ˜å¤©ç­ä¼šè¦æçš„ä»€ä¹ˆå¿ƒèµç»™åšäº†ï¼Œæ˜å¤©å¥½å¥½ä¼‘æ¯ä¸€å¤©ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bç«™OpenBMBè§†é¢‘</title>
      <link href="/2024/03/11/hello-huggingface/"/>
      <url>/2024/03/11/hello-huggingface/</url>
      
        <content type="html"><![CDATA[<h1 id="huggingface"><a href="#huggingface" class="headerlink" title="huggingface"></a>huggingface</h1><p>ä»Šå¤©ä¹Ÿæ˜¯ç”¨äº†ä¸‹huggingfaceï¼Œä¸è¿‡ä¹Ÿé‡åˆ°äº†å¾ˆå¤šé—®é¢˜ã€‚<br>ä¸€å¼€å§‹ç›´æ¥å°†æ¨¡å‹é¡µé¢çš„è¯•ç”¨ä»£ç æ”¾ä¸Šæ¥è¿è¡Œäº†ï¼Œè™½ç„¶ä¸‹è½½äº†å¾ˆå¤šåŒ…ï¼Œä½†æ˜¯è¿è¡Œç¢°åˆ°äº†æ²¡æœ‰æƒé™accessè¿™ä¸ªmodel<br>ç„¶åå°±æ˜¯æœäº†å¾ˆå¤šå¾ˆå¤šçš„æ–¹æ³•ï¼Œè¯•äº†å‡ ä¸ªæ¯”å¦‚ä»£ç ä¸­æ·»åŠ tokenä»€ä¹ˆçš„éƒ½æ²¡è§£å†³é—®é¢˜ã€‚</p><p>ç„¶åå»çœ‹äº†æ–‡æ¡£ï¼Œ<br>é¦–å…ˆå°±æ˜¯è¦è¿è¡Œä¸‹é¢çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install huggingface_hub</span><br><span class="line">huggingface-cli login</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªä¼šè®©ä½ å¡«å…¥api_tokenï¼Œè¿™ä¸ªåœ¨ä¸ªäººä¿¡æ¯é‚£é‡Œåˆ›å»ºä¸€ä¸ªå¤åˆ¶è¿‡æ¥å°±è¡Œï¼Œ<br>ä¸è¿‡å¤åˆ¶åˆ°é‡Œé¢ä¼šæ˜¾ç¤ºä¸è§ï¼Œè€Œä¸”æœ€å¥½ä¸è¦ç”¨Ctrl-Vçš„æ–¹æ³•ï¼Œå®ƒæç¤ºå³é”®å¤åˆ¶ä¼šå¥½ä¸€ç‚¹</p></blockquote><p>ç„¶åå°±æ˜¯ä¸‹è½½æ¨¡å‹ï¼Œç­‰ç­‰å°±è¡Œ<br>7bçš„æˆ‘16Gå†…å­˜è¿è¡Œä¸äº†ï¼Œåªèƒ½è¿è¡Œ2bçš„ï¼Œåç»­è€ƒè™‘ç”¨åˆ«çš„æ–¹æ³•è°ƒç”¨æ¨¡å‹ä¼šå¥½ä¸€ç‚¹ï¼ŸğŸ™„</p><p>åœ¨7bé‡åŒ–çš„è¿è¡Œä¸­ä¹Ÿå‡ºç°äº†é—®é¢˜ç°åœ¨è¿˜æ²¡è§£å†³ï¼Œå¥½çƒ¦ğŸ™„</p><p>æ€ªäº‹ï¼Œåœ¨huggingfaceä¸Šé¢è¿è¡Œçš„æ¨¡å‹å›å¤é•¿åº¦å¥½é•¿ï¼Œæœ¬åœ°è¿è¡Œçš„å°±å›å¤å‡ ä¸ªè¯çš„<br>ç„¶åå°±æ˜¯ä¸‹è½½çš„huggingfaceçš„æ¨¡å‹ä¼šåœ¨æœ¬åœ°å­˜å‚¨ï¼Œå­˜å‚¨ä½ç½®åœ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\78752\.cache\huggingface\hub</span><br></pre></td></tr></table></figure><p>è®°å¾—åˆ æ‰</p><p><strong>å°å°æŠ€å·§</strong><br>å¦‚æœå¸Œæœ›ä¸‹è½½çš„æ¨¡å‹åˆ°ä½ æŒ‡å®šçš„ä½ç½®ï¼Œå¯ä»¥åœ¨from_pretrainedæ–¹æ³•ä¸­æŒ‡å®šä¸€ä¸ªcache_dirå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯ä¸‹è½½æ¨¡å‹çš„æ–°åœ°å€</p><h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1><ul><li><input checked="" disabled="" type="checkbox"> çœ‹ä¸€ä¸‹æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„æŠ€æœ¯æ ˆ</li><li><input disabled="" type="checkbox"> å®Œæˆç¬¬ä¸€ç¯‡å¤§æ¨¡å‹å…¬å¹³æ€§æ–‡çŒ®é˜…è¯»</li><li><input checked="" disabled="" type="checkbox"> æ’ä»¶æ›´æ–°ä¸€ä¸ªä¿å­˜æ–‡æ¡£å°±ä¼šè‡ªåŠ¨éƒ¨ç½²æäº¤</li><li><input checked="" disabled="" type="checkbox"> å›¾åºŠå›¾åºŠå›¾åºŠ</li><li><input disabled="" type="checkbox"> GPT-HateCheck: Can LLMs Write Better Functional Tests for Hate Speech Detection?</li><li><input disabled="" type="checkbox"> Prejudice and Caprice: A Statistical Framework for Measuring Social Discrimination in Large Language Models</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bç«™OpenBMBè§†é¢‘</title>
      <link href="/2024/03/11/page/"/>
      <url>/2024/03/11/page/</url>
      
        <content type="html"><![CDATA[<h1 id="å•¥äº‹æ²¡å¹²ä»Šå¤©"><a href="#å•¥äº‹æ²¡å¹²ä»Šå¤©" class="headerlink" title="å•¥äº‹æ²¡å¹²ä»Šå¤©"></a>å•¥äº‹æ²¡å¹²ä»Šå¤©</h1><p>è¿˜æ˜¯çœ‹äº†å¤§æ¨¡å‹åè§ä¸å…¬å¹³æ€§çš„ç»¼è¿°ï¼Œç»§ç»­è¯„ä¼°æ ‡å‡†ï¼Œåˆçœ‹äº†é¢„å¤„ç†çš„ä¸€äº›ä¸œè¥¿</p><p><del>ç»¼è¿°çœ‹çš„å¤ªæ— èŠå¤ªç´¯äº†</del></p><p>ç„¶åå°±æ˜¯çœ‹äº†OpenBMBé‚£ä¸ªå¤§æ¨¡å‹çŸ¥è¯†æ™®åŠçš„è§†é¢‘ï¼Œä»æ³¨æ„åŠ›åˆ°huggingfaceçš„å°demo<br>å¤§è‡´æµç¨‹ä¹Ÿè·Ÿæˆ‘ä¹‹å‰å†™çš„huggingfaceä¸€è‡´</p><p>ç„¶åæ˜¯çªå‘å¥‡æƒ³ï¼Œæƒ³è¦fine-tuneä¸€ä¸ªå¤§æ¨¡å‹ä¸“é—¨ç»™æˆ‘å†™å°è¯´çœ‹ã€‚</p><p>è¿™ç¯‡ç»¼è¿°è¿˜æ˜¯è¦çœ‹å®Œçš„ï¼Œä½†æ˜¯æˆ‘å†³å®šäº¤ç»™txyzæ¥è¯»äº†ï¼Œåˆ°æ—¶å€™å¤åˆ¶ä¸€ä¸‹å°±è¡Œã€‚</p><p>kaggleä¸Šç”¨äº†ä¸‹gemmaï¼Œæ²¡ææ‡‚ï¼Œæœ‰ä¸ªpromptæ ¼å¼ï¼Œæˆ‘ä¸å¤ªç†è§£æ˜¯ä¸ºä»€ä¹ˆ<br>æˆ‘è®¤ä¸ºä¸‹ä¸€æ­¥æœ‰éœ€è¦äº†è§£è®­ç»ƒæ•°æ®æˆ–è€…å¾®è°ƒæ•°æ®è¿›å…¥å¤§æ¨¡å‹ä¹‹åæ˜¯å¦‚ä½•è®­ç»ƒçš„</p><h1 id="å¤§æ¨¡å‹è¯­è¨€æ’è¡Œæ¦œ"><a href="#å¤§æ¨¡å‹è¯­è¨€æ’è¡Œæ¦œ" class="headerlink" title="å¤§æ¨¡å‹è¯­è¨€æ’è¡Œæ¦œ"></a>å¤§æ¨¡å‹è¯­è¨€æ’è¡Œæ¦œ</h1><p>æ‰¾åˆ°ä¸€ä¸ªhuggingfaceä¸Šå¯¹å¼€æºå¤§æ¨¡å‹çš„æ’è¡Œæ¦œ<br><a href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard">æ’è¡Œæ¦œ</a></p><h1 id="å…³äºvercelçš„ä¸€ç‚¹ç‚¹"><a href="#å…³äºvercelçš„ä¸€ç‚¹ç‚¹" class="headerlink" title="å…³äºvercelçš„ä¸€ç‚¹ç‚¹"></a>å…³äºvercelçš„ä¸€ç‚¹ç‚¹</h1><p>åˆšåˆšæäº†ä¸€ä¸‹å›¾åºŠçš„ä¸œè¥¿<br>è·Ÿéšçš„æ•™ç¨‹æ˜¯<a href="https://www.fomal.cc/posts/d7fb1ba1.html#post-comment">åšå®¢</a><br>æˆ‘çš„è¿™ä¸ªåšå®¢ä¹Ÿæ˜¯è·Ÿç€ä»–åšçš„ï¼Œå¯ä»¥è¯´æ˜¯ç›¸å½“å‰å®³äº†</p><p>è¿™ä¸ªå›¾åºŠæ˜¯æ€ä¹ˆåšçš„å‘¢<br>é¦–å…ˆè¦åœ¨githubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œç„¶åæœ¬åœ°gitä½ æƒ³è¦çš„å›¾ç‰‡ä¸Šå»<br>å†ç”¨<a href="https://vercel.com/">vercel</a>å¯¼å…¥åˆšåˆšçš„ä»“åº“<br>åœ¨é¡¹ç›®domainä¸­æ–°å¢è§£æåœ°å€ï¼Œä½¿ç”¨å·²ç»æœ‰çš„åŸŸåè¿›è¡Œæ›¿æ¢<br>æ¯”å¦‚æˆ‘ä¹°äº†ä¸€ä¸ªåŸŸåxxxxxx.comä»€ä¹ˆçš„ï¼Œæˆ‘å°±åœ¨å‰é¢æ–°åŠ ä¸€ä¸ªäºŒçº§åŸŸåæ¯”å¦‚picpool.xxxxxxxx.comï¼Œç„¶åæˆ‘å°±åœ¨é˜¿é‡Œäº‘çš„DNSè§£æä¸­ä¸ºæˆ‘çš„ä¸»åŸŸåæ·»åŠ è§£æï¼Œä¾æ®vercelç»™çš„é…ç½®ä¾æ¬¡å¡«å…¥è§£æé¡¹ä¸­ï¼Œç„¶åå°±èƒ½ç”¨è¿™ä¸ªurlè®¿é—®æˆ‘çš„githubçš„èµ„æºã€‚</p><p>è¿™ä¸ªå¾ˆæœ‰è¶£ï¼Œç›¸å½“äºæŠŠGitHubä»“åº“å½“ä½œæœåŠ¡å™¨å­˜å‚¨ç©ºé—´ï¼Œè€Œvercelä½œä¸ºæœåŠ¡æä¾›è€…ä¸ºä½ è¿”å›èµ„æºï¼Œæˆ‘æƒ³åæœŸå¯ä»¥å†™ä¸€äº›apiä»€ä¹ˆçš„ï¼Œåœ¨æˆ‘vscodeçš„aièŠå¤©æˆ–è€…åˆ«çš„æ’ä»¶é‡Œç”¨ç”¨ï¼Ÿ</p><p>æŠŠQQèŠå¤©æˆ–è€…ç”šè‡³æ˜¯é˜´é˜³å¸ˆå½“ä½œæ’ä»¶å†™åˆ°vscodeé‡Œï¼Ÿ<br>å¼€å‘ä¸€ä¸ªæ­£å¤§å…‰æ˜çš„æ‘¸é±¼æ’ä»¶</p><h1 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h1><ul><li><input checked="" disabled="" type="checkbox"> å®Œæˆå¤§æ¨¡å‹å…¬å¹³æ€§ç»¼è¿°</li><li><input checked="" disabled="" type="checkbox"> å›¾åºŠ</li><li><input checked="" disabled="" type="checkbox"> å°è¯•è®­ç»ƒä¸€ä¸ªå¤§æ¨¡å‹è¿›è¡Œå°è¯´ç”Ÿæˆ</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ™ºèƒ½è®¡ç®—ç³»ç»Ÿå®éªŒä¸€</title>
      <link href="/2024/03/09/%E6%99%BA%E8%83%BD%E8%AE%A1%E7%AE%97%E5%AE%9E%E9%AA%8C%E4%B8%80/"/>
      <url>/2024/03/09/%E6%99%BA%E8%83%BD%E8%AE%A1%E7%AE%97%E5%AE%9E%E9%AA%8C%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¥ç»ç½‘ç»œè®¾è®¡å®éªŒ"><a href="#ç¥ç»ç½‘ç»œè®¾è®¡å®éªŒ" class="headerlink" title="ç¥ç»ç½‘ç»œè®¾è®¡å®éªŒ"></a>ç¥ç»ç½‘ç»œè®¾è®¡å®éªŒ</h1><p>å¼€å§‹å†™è¯¾ç¨‹ä½œä¸šäº†ï¼ŒåŠªåŠªåŠ›çœ‹çœ‹èƒ½ä¸èƒ½ä¸€å¤©å†™å®Œï¼Œç°åœ¨æ˜¯æ—©ä¸Š10ç‚¹45ï¼Œä¸€ä¼šåƒé¥­å»ä¸‹åˆå›æ¥å¼€å§‹å†™ï¼Œæ—©ä¸Šåˆåœ¨å¼€å°å·®ä»€ä¹ˆçš„ï¼Œä¸‹åˆä¸€å®šè®¤çœŸå†™ã€‚</p><p>è¯¾ç¨‹å®éªŒæ˜¯ç”¨æœ¬åœ°è¿æ¥æœåŠ¡å™¨çš„æ–¹å¼å®Œæˆçš„ï¼Œç”¨çš„vscode sshé“¾æ¥ï¼Œç”¨ä¸€ä¸‹å‘ç°æŒºç®€å•çš„ï¼Œç­‰æˆ‘è¿™ä¸ªå®éªŒåšå®Œäº†æˆ‘å°±å»æä¸€ä¸ª4090çš„ç”µè„‘è·‘ä¸€ä¸‹å¤§æ¨¡å‹ç©ç©çœ‹ã€‚ğŸ˜</p><blockquote><p>è¦æ³¨æ„çš„æ˜¯ï¼Œé“¾æ¥è¿›sshåï¼Œéœ€è¦åœ¨æ–‡ä»¶ä½ç½®é€‰æ‹©&#x2F;opt&#x2F;ç›®å½•ä¸‹çš„å®éªŒ</p></blockquote><p>è€Œä¸”ï¼Œæˆ‘è®¡åˆ’æ˜¯ä»å®éªŒå¹³å°ä¸Šå°†æ–‡ä»¶ä¸‹è½½ä¸‹æ¥åœ¨æœ¬åœ°ç¼–å†™åå†åœ¨å®éªŒå¹³å°ä¸Šè¯„æµ‹ï¼Œè¿™æ ·100Hçš„æœºæ—¶åº”è¯¥å¯ä»¥ç”¨å¾ˆä¹…ã€‚</p><p>ç”±äºæäº¤åˆ†æ•°æ˜¯<strong>å–æœ€åä¸€æ¬¡è€Œä¸æ˜¯æœ€é«˜åˆ†</strong>ï¼Œæ‰€ä»¥è®°å¾—è¦ç”¨gitè®°å½•ä¸‹ç‰ˆæœ¬ï¼Œåœ¨æœ€åæäº¤æœ€é«˜åˆ†çš„é‚£ä¸ªç‰ˆæœ¬å³å¯ã€‚</p><p>ä¸‹åˆè®°å¾—çœ‹çœ‹é‚£ä¸ªä»£ç å­˜å‚¨åœ¨å“ªï¼Œä¸å¤ªæ˜ç™½è¿™ä¸ªé¢å¤–åˆ›å»ºçš„å·æ˜¯æ€ä¹ˆç”¨çš„</p><h2 id="å…¨è¿æ¥æ‰‹å†™æ•°å­—è¯†åˆ«"><a href="#å…¨è¿æ¥æ‰‹å†™æ•°å­—è¯†åˆ«" class="headerlink" title="å…¨è¿æ¥æ‰‹å†™æ•°å­—è¯†åˆ«"></a>å…¨è¿æ¥æ‰‹å†™æ•°å­—è¯†åˆ«</h2><p>æ–°å­¦ä¼šä¸€ä¸ªæŠ€èƒ½ï¼Œvscodeè¦æ‰“å¼€ä¸€ä¸ªæ–°çª—å£è€Œä¸å ç”¨æœ¬çª—å£å¯ä»¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Shift+N</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå®éªŒç›¸å½“ç®€å• <del>ä¹Ÿä¸ä¸€å®š</del><br>æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯æ„å»ºä¸€ä¸ªå…¨è¿æ¥ç½‘ç»œï¼Œä¸€å…±æœ‰ä¸‰ç§å±‚éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®ç°ï¼Œå…¨è¿æ¥å±‚ã€ReLUå±‚ã€Softmaxå±‚ã€‚æ¯å±‚éƒ½è¦å®ç°forwardå’Œbackwardï¼Œ</p><p>æˆ‘ä»¬å…ˆçœ‹å…¨è¿æ¥å±‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FullyConnectedLayer</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_input, num_output</span>):  <span class="comment"># å…¨è¿æ¥å±‚åˆå§‹åŒ–</span></span><br><span class="line">        self.num_input=num_input</span><br><span class="line">        self.num_output=num_output</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;\tFully connected layer with input %d, output %d.&#x27;</span> % (self.num_input, self.num_output))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">init_param</span>(<span class="params">self, std=<span class="number">0.01</span></span>):  <span class="comment"># å‚æ•°åˆå§‹åŒ–</span></span><br><span class="line">        self.weight = np.random.normal(loc=<span class="number">0.0</span>, scale=std, size=(self.num_input, self.num_output))</span><br><span class="line">        self.bias=np.zeros([<span class="number">1</span>, self.num_output])</span><br><span class="line">        show_matrix(self.weight, <span class="string">&#x27;fc weight &#x27;</span>)</span><br><span class="line">        show_matrix(self.bias, <span class="string">&#x27;fc bias &#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, <span class="built_in">input</span></span>): <span class="comment"># å‰å‘ä¼ æ’­è®¡ç®—</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        self.<span class="built_in">input</span> = <span class="built_in">input</span></span><br><span class="line">        <span class="comment"># TODOï¼šå…¨è¿æ¥å±‚çš„å‰å‘ä¼ æ’­ï¼Œè®¡ç®—è¾“å‡ºç»“æœ</span></span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        self.output = np.dot(self.<span class="built_in">input</span>, self.weight) + self.bias</span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        <span class="keyword">return</span> self.output</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self, top_diff</span>):   <span class="comment"># åå‘ä¼ æ’­çš„è®¡ç®—</span></span><br><span class="line">        <span class="comment"># TODOï¼šå…¨è¿æ¥å±‚çš„åå‘ä¼ æ’­ï¼Œè®¡ç®—å‚æ•°æ¢¯åº¦å’Œæœ¬å±‚æŸå¤±</span></span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        self.d_weight = np.dot(self.<span class="built_in">input</span>.T, top_diff)</span><br><span class="line">        self.d_bias = np.<span class="built_in">sum</span>(top_diff, axis=<span class="number">0</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">        bottom_diff = np.dot(top_diff, self.weight.T)</span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        <span class="keyword">return</span> bottom_diff</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_gradient</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.d_weight,self.d_bias</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_param</span>(<span class="params">self, lr</span>):  <span class="comment"># å‚æ•°æ›´æ–°</span></span><br><span class="line">        <span class="comment"># TODOï¼šå¯¹å…¨è¿æ¥å±‚å‚æ•°åˆ©ç”¨å‚æ•°è¿›è¡Œæ›´æ–°</span></span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        self.weight = self.weight - lr * self.d_weight</span><br><span class="line">        self.bias = self.bias - lr * self.d_bias</span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_param</span>(<span class="params">self, weight, bias</span>): <span class="comment"># å‚æ•°åŠ è½½</span></span><br><span class="line">        <span class="keyword">assert</span> self.weight.shape == weight.shape</span><br><span class="line">        <span class="keyword">assert</span> self.bias.shape == bias.shape</span><br><span class="line">        self.weight=weight</span><br><span class="line">        self.bias=bias</span><br><span class="line">        show_matrix(self.weight, <span class="string">&#x27;fc weight &#x27;</span>)</span><br><span class="line">        show_matrix(self.bias, <span class="string">&#x27;fc bias &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_param</span>(<span class="params">self</span>):    <span class="comment"># å‚æ•°ä¿å­˜</span></span><br><span class="line">        show_matrix(self.weight, <span class="string">&#x27;fc weight &#x27;</span>)</span><br><span class="line">        show_matrix(self.bias, <span class="string">&#x27;fc bias &#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.weight, self.bias</span><br></pre></td></tr></table></figure><p>forwardå’Œå‚æ•°æ›´æ–°éƒ½ç›¸å½“ç®€å•ï¼Œä¸»è¦ææ¸…æ¥šçŸ©é˜µæ˜¯å¦‚ä½•ç›¸ä¹˜çš„ï¼Œ<br>é¦–å…ˆå°±æ˜¯è¾“å…¥xï¼Œç»´åº¦ä¸º1 * input_dimï¼Œç„¶åå°±æ˜¯æƒé‡çŸ©é˜µinput_num * output_num<br>åç½®å°±æ˜¯1 * output_num<br>é‡ç‚¹å°±æ˜¯backwardå¦‚ä½•è®¡ç®—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.d_weight = np.dot(self.input.T, top_diff)</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆæƒé‡æ˜¯è¿™æ ·å­çš„ã€‚<br>ä»å…¨è¿æ¥å…¬å¼è¯´èµ·<br>æ¯ä¸€å±‚çš„å…¬å¼æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Y` = W.T * X + b</span><br><span class="line">ç»´åº¦åˆ†åˆ«æ˜¯</span><br><span class="line">Y`_(1*out_num)</span><br><span class="line">W_(input_num*output_num)</span><br><span class="line">X_(1*input_num)</span><br><span class="line">b_(1*1)</span><br><span class="line"></span><br><span class="line">æŸå¤±å…¬å¼å»å‡æ–¹è¯¯å·®</span><br><span class="line">L = 0.5(Y - Y`)^2</span><br><span class="line"></span><br><span class="line">æŸå¤±æ˜¯æƒé‡å’Œåç½®çš„å‡½æ•°ï¼Œè¦æ±‚å¯¹æƒé‡å’Œåç½®çš„åå¯¼</span><br><span class="line">å°±è¦ç”¨åˆ°é“¾å¼æ³•åˆ™ï¼Œå…ˆæ±‚å¯¹Y`çš„å¯¼æ•°å†æ±‚Y`å¯¹æƒé‡æˆ–åç½®çš„å¯¼æ•°</span><br><span class="line"></span><br><span class="line">æ­¤æ—¶dL/dY` = -(Y - Y`), è¿™ä¸ªä¹Ÿå°±æ˜¯top_diffè®°ä½œÎ”Ly,å½¢çŠ¶æ˜¯(1*output_num)</span><br><span class="line">dY`/dW = X,å½¢çŠ¶æ˜¯(1*input_num)</span><br><span class="line">æ­¤æ—¶dL/dW = Î”Ly * X</span><br><span class="line">æ˜¾ç„¶è¿™ä¹ˆå†™è‚¯å®šä¸èƒ½ä¹˜çš„</span><br><span class="line">è€ƒè™‘åˆ°è¦å¯¹æƒé‡è¿›è¡Œæ›´æ–°ï¼Œå› æ­¤dL/dW = X.T * Î”Lyï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä»£ç è¦è¿™ä¹ˆå†™çš„ã€‚</span><br></pre></td></tr></table></figure><blockquote><p>ä¸ºä»€ä¹ˆä¼šæ ‡æ³¨çŸ©é˜µå½¢çŠ¶å°±æ˜¯å› ä¸ºæˆ‘ä¸çŸ¥é“æœ‰çš„å…¬å¼ä¸ºä»€ä¹ˆçŸ©é˜µå¯ä»¥è¿™ä¹ˆç›¸ä¹˜</p></blockquote><p>å…¶å®ƒå±‚ä¹Ÿéƒ½æ˜¯åŒç†çš„åˆ†ææ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ReLULayer</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;\t Relu layer&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, <span class="built_in">input</span></span>):  <span class="comment"># å‰å‘ä¼ æ’­çš„è®¡ç®—</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        self.<span class="built_in">input</span>=<span class="built_in">input</span></span><br><span class="line">        <span class="comment"># TODOï¼šReLUå±‚çš„å‰å‘ä¼ æ’­ï¼Œè®¡ç®—è¾“å‡ºç»“æœ</span></span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        output = np.maximum(<span class="number">0</span>, self.<span class="built_in">input</span>)</span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self, top_diff</span>):   <span class="comment"># åå‘ä¼ æ’­çš„è®¡ç®—</span></span><br><span class="line">        <span class="comment"># TODOï¼šReLUå±‚çš„åå‘ä¼ æ’­ï¼Œè®¡ç®—æœ¬å±‚æŸå¤±</span></span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        bottom_diff = top_diff * (self.<span class="built_in">input</span> &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment"># ==============================================================================================</span></span><br><span class="line">        <span class="keyword">return</span> bottom_diff</span><br></pre></td></tr></table></figure><p>backwardä¸ºä»€ä¹ˆè¿™ä¹ˆå®ç°ï¼Œæ˜¯å› ä¸ºreluå±‚æœ¬èº«ä¸å«æœ‰å‚æ•°ï¼Œå®ƒä½œä¸ºæ»¤ç½‘å°†éé›¶ç»“æœå‰å‘å’Œåå‘ä¼ æ’­ï¼Œå› æ­¤åªéœ€è¦è®©æ¢¯åº¦ä¹˜ä¸Šä¸€ä¸ªmaskè®©é0æ¢¯åº¦ä¼ å›å³å¯ã€‚</p><blockquote><p>è¿™é‡Œï¼Œself.input &gt; 0ä¼šäº§ç”Ÿä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œå…¶ä¸­å¤§äº0çš„è¾“å…¥ä½ç½®æ˜¯Trueï¼ˆå¯¹åº”äº1ï¼‰ï¼Œå…¶ä½™æ˜¯Falseï¼ˆå¯¹åº”äº0ï¼‰ã€‚å°†è¿™ä¸ªæ•°ç»„ä¸top_diffç›¸ä¹˜ï¼Œå°±å¯ä»¥å®ç°åªæœ‰å½“è¾“å…¥å¤§äº0æ—¶ï¼Œè¯¯å·®æ¢¯åº¦æ‰ä¼šä¼ å›</p></blockquote><p>å‰©ä¸‹softmaxå±‚æˆ‘ä¸æƒ³è¯´äº†æœ‰ç‚¹ç´¯ç¡åˆè§‰äº†ï¼Œä¸è¿‡æŒºç®€å•çš„ã€‚<del>æˆ‘å…¶å®ä¸çŸ¥é“ä¸ºä»€ä¹ˆbackwardä¸ºä»€ä¹ˆè¿™ä¹ˆå†™</del> ä¸‹æ¬¡å†è¯´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class SoftmaxLossLayer(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        print(&#x27;\tSoftmax loss layer.&#x27;)</span><br><span class="line">    def forward(self, input):  # å‰å‘ä¼ æ’­çš„è®¡ç®—</span><br><span class="line">        # TODOï¼šsoftmax æŸå¤±å±‚çš„å‰å‘ä¼ æ’­ï¼Œè®¡ç®—è¾“å‡ºç»“æœ</span><br><span class="line">        input_max = np.max(input, axis=1, keepdims=True)</span><br><span class="line">        input_exp = np.exp(input-input_max)</span><br><span class="line">        exp_sum = np.sum(input_exp, axis=1, keepdims=True)</span><br><span class="line">        # ==============================================================================================</span><br><span class="line">        self.prob = input_exp / exp_sum</span><br><span class="line">        # ==============================================================================================</span><br><span class="line">        return self.prob</span><br><span class="line"></span><br><span class="line">    def get_loss(self,label):  # è®¡ç®—æŸå¤±</span><br><span class="line">        self.batch_size=self.prob.shape[0]</span><br><span class="line">        self.label_onehot=np.zeros_like(self.prob)</span><br><span class="line">        self.label_onehot[np.arange(self.batch_size),label]=1.0</span><br><span class="line">        loss=-np.sum(np.log(self.prob)*self.label_onehot)/self.batch_size</span><br><span class="line">        return loss</span><br><span class="line">    def backward(self):   # åå‘ä¼ æ’­çš„è®¡ç®—</span><br><span class="line">        # TODOï¼šsoftmax æŸå¤±å±‚çš„åå‘ä¼ æ’­ï¼Œè®¡ç®—æœ¬å±‚æŸå¤±</span><br><span class="line">        # ==============================================================================================</span><br><span class="line">        bottom_diff = (self.prob - self.label_onehot) / self.batch_size</span><br><span class="line">        # ==============================================================================================</span><br><span class="line">        return bottom_diff</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯è¯»æµ‹è¯•æ•°æ®å•Šæ„å»ºæ¨¡å‹ä»€ä¹ˆçš„è¿™ä¹Ÿéƒ½ç›¸å½“ç®€å•ã€‚</p><h2 id="DLPå®éªŒå¹³å°"><a href="#DLPå®éªŒå¹³å°" class="headerlink" title="DLPå®éªŒå¹³å°"></a>DLPå®éªŒå¹³å°</h2><blockquote><p>æˆ‘å¿«ç¬‘æ­»äº†ï¼Œè¿™ä¸ªå®éªŒåªè¦æŠŠæ¨¡å‹æ­å»ºèµ·æ¥å°±è¡Œäº†ï¼Œè¦æ»¡åˆ†çš„æ¡ä»¶æ˜¯DLPè¿è¡Œæ—¶é—´æ˜¯CPUè¿è¡Œæ—¶é—´çš„äº”ååˆ†ä¹‹ä¸€ï¼Œå“ˆå“ˆå“ˆå“ˆæˆ‘ç›´æ¥è®©CPUä»£ç é‡Œçš„layerå±‚æ¯å±‚éƒ½åŠ äº†ä¸ªsleepï¼Œç›´æ¥ç»™æˆ‘å¹²æ»¡åˆ†äº†</p></blockquote><p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è®²çš„å¤åˆ¶ç²˜è´´æ”¹ä¸‹å‚æ•°å°±è¡Œã€‚<br>ä¹Ÿä¸æ˜¯å¾ˆæƒ³å­¦è¿™ä¸ªåŠ é€Ÿä»¥åè¦ç”¨å†è¯´<br>è¦ä½¿ç”¨è¿™ä¸ªpycnnlåº“é¦–å…ˆå°±æ˜¯è¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install swig</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ç›®å½•ä¸‹è¿è¡Œpycnnlæ–‡ä»¶å¤¹é‡Œé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./build_pycnnl.sh</span><br></pre></td></tr></table></figure><p>å¥½åƒæ˜¯è¿™ä¸ªæˆ‘åå­—å¿˜è®°äº†å¥½äº†ä¸å†™äº†æˆ‘è¦ä¼‘æ¯äº†</p><p>çªç„¶æ‰¾åˆ°äº†ä¸€ä¸ªå­¦é•¿çš„å®éªŒç­”æ¡ˆï¼Œè™½ç„¶å¯èƒ½ä»£ç æœ‰å˜åŠ¨ä½†æ˜¯æœ‰ä¸€å®šçš„å‚è€ƒä»·å€¼<br><a href="https://github.com/doongz/aics/tree/main">æ™ºèƒ½è®¡ç®—ç³»ç»Ÿ</a></p><h1 id="MD"><a href="#MD" class="headerlink" title="MD"></a>MD</h1><p>æ— è¯­æ­»äº†ï¼Œæ˜¨å¤©å¥½å¥½çš„sshç”¨ç€çªç„¶ç”¨ä¸äº†ï¼Œç‚¹å‡»è¿æ¥ä¸»æœºæ²¡æœ‰ååº”ï¼Œå°±æ˜¯é”™è¯¯æ²¡æœ‰æç¤ºä¹Ÿæ²¡æœ‰ã€‚</p><p>è¯•äº†é‡æ–°åŠ è½½vscodeï¼Œé‡æ–°å¯åŠ¨ï¼Œæ²¡æœ‰ç”¨<br>æˆ‘å°±å»é—®äº†GPTï¼Œå®ƒç»™äº†å¥½å¤šè§£å†³æ–¹æ¡ˆï¼Œæˆ‘å°±ä¸€ä¸ªä¸€ä¸ªå»è¯•äº†è¯•ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•é”™è¯¯æç¤ºæˆ‘ä¹Ÿå¾ˆæ— ä»ä¸‹æ‰‹çš„ã€‚</p><p>ç»è¿‡å‡ ä¸ªæ–¹æ¡ˆä¹‹åé”™è¯¯ä¾ç„¶æ²¡æœ‰ä»»ä½•å¥½è½¬ï¼Œå®Œå…¨å°±æ˜¯æ­£å¸¸ä½¿ç”¨çš„æ—¶å€™çªç„¶æ— æ³•ä½¿ç”¨è¿˜ä¸å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨ï¼Œæˆ‘æŒºæ— å¥ˆã€‚</p><p>gptå°±å‘Šè¯‰æˆ‘å¯ä»¥æ‰“å¼€vscodeå¼€å‘è€…æ¨¡å¼å¯ä»¥çœ‹è¿è¡Œè¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰é”™è¯¯åœ¨æ§åˆ¶æ ä¸­ç»™å‡ºä½†æ˜¯å¹¶æ²¡ç”¨ç”¨æç¤ºæ¡†æç¤ºç”¨æˆ·ï¼Œç„¶åæˆ‘å°±æ‰“å¼€äº†ï¼Œé‡Œé¢ç¡®å®å‡ºç°äº†ä¸€ä¸ªé”™è¯¯å’Œä¸€ä¸ªè­¦å‘Š</p><blockquote><p>ã€warningã€‘An iframe which has both allow-scripts and allow-same-origin for its sandbox attribute can escape its sandboxing.</p><p>ã€errorã€‘Cannot read properties of undefined (reading â€˜afterâ€™): Error: Cannot read properties of undefined (reading â€˜afterâ€™)<br>at l.h (d:\Microsoft VS Code\resources\app\out\vs\workbench\api\node\extensionHostProcess.js:150:185186)</p></blockquote><p>å› ä¸ºé”™è¯¯å¹¶æ²¡æœ‰å‡ºç°åœ¨extensionsæ–‡ä»¶å¤¹é‡Œï¼Œæˆ‘å°±ä»¥ä¸ºå¯èƒ½ä¸æ˜¯æ’ä»¶çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯vscodeæœ¬ä½“å› ä¸ºæˆ‘å¯èƒ½æ“ä½œé¡ºåºé—®é¢˜å¯¼è‡´äº†ä¸ç»™å¼¹çª—ï¼Œ</p><p>ç„¶åæˆ‘å°±åˆ°å¤„æœè¿™ä¸¤ä¸ªé—®é¢˜ï¼Œå®Œå…¨æ²¡æœ‰æœåˆ°è·Ÿæˆ‘è¿™ä¸ªç›¸å…³ã€‚åæ­£æ—¶é—´èŠ±è´¹äº†å¾ˆä¹…ã€‚</p><p>æˆ‘å°±åˆå»é—®gptäº†ï¼Œå®ƒå°±å‘Šè¯‰æˆ‘å¯ä»¥æ¸…ç©ºæœ¬åœ°æ‰©å±•ç¼“å­˜ä»€ä¹ˆçš„ï¼Œæ¸…é™¤é‡æ–°åŠ è½½vscodeå†ä¸‹è½½æ’ä»¶æ’é™¤é—®é¢˜ï¼Œå› ä¸ºå°±sshä¸€ä¸ªæ’ä»¶æ˜¯æˆ‘è¦å®éªŒçš„ï¼Œå°±è¿™ä¹ˆæ¸…é™¤ç¼“å­˜å’Œä¸‹è½½vscodeæäº†å‡ æ¬¡è¿˜æ˜¯ä¸è¡Œï¼Œæˆ‘å°±åˆå»æœç´¢ç›¸å…³é—®é¢˜äº†ï¼Œç¿»ç¿»çœ‹å¯èƒ½ä¼šä¸ä¼šæœ‰åˆ«çš„ç›¸ä¼¼çš„é—®é¢˜èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>åæ­£å°±æ˜¯æäº†å¥½ä¹…ï¼Œå·®ç‚¹å°±è¦å»å®šä½æºç ä¸€ä¸ªä¸€ä¸ªå»åˆ†æäº†ï¼Œæˆ‘æŠŠæ’ä»¶ç‰ˆæœ¬å›é€€ä¹‹åå°±åˆå¥½äº†ï¼Œæ— è¯­æ­»äº†ä¹Ÿä¸çŸ¥é“è¿™æ¬¡ä¼šä¸ä¼šç”¨ç€ç”¨ç€å°±ç”¨å‡ºé—®é¢˜ã€‚</p><p>ç­‰æˆ‘æŠŠå®éªŒéƒ½æ‹¿æ»¡åˆ†äº†å°±æŠŠæˆ‘çš„å®éªŒè¿‡ç¨‹ç»™è¡¥å®Œï¼Œè¿™ç§ä»0å¼€å§‹æ­å»ºç½‘ç»œçš„è¿˜æ˜¯æ¯”è¾ƒæœ‰è¶£çš„ã€‚</p><p><strong>æœ€å¥½æ˜¯æŠŠæ’ä»¶æ›´æ–°ä¸€ä¸ªä¿å­˜ä¸€ä¸ªæ–‡ä»¶å°±è‡ªåŠ¨æäº¤éƒ¨ç½²è¿™ä¸ªåŠŸèƒ½ç»™æ›´æ–°äº†</strong></p><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><ul><li><input checked="" disabled="" type="checkbox"> æ›´æ–°æ’ä»¶è®©å®ƒèƒ½åœ¨ä¿å­˜æ—¶è‡ªåŠ¨æäº¤</li><li><input checked="" disabled="" type="checkbox"> æä¸ªå›¾åºŠï¼Œæ‰¾ä¸€äº›é«˜æ¸…å›¾åƒèµ„æºï¼ŒæŠŠåšå®¢èƒŒæ™¯å’Œæ–‡ç« å°é¢ä»€ä¹ˆçš„éƒ½æ¢äº†</li><li><input checked="" disabled="" type="checkbox"> å®Œæˆç¬¬ä¸€ç¯‡å¤§æ¨¡å‹å…¬å¹³æ€§æ–‡çŒ®é˜…è¯»</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bias and Fairness in Large Language Models A Survey</title>
      <link href="/2024/03/05/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%81%8F%E8%A7%81%E4%B8%8E%E5%85%AC%E5%B9%B3%E6%80%A7/"/>
      <url>/2024/03/05/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%81%8F%E8%A7%81%E4%B8%8E%E5%85%AC%E5%B9%B3%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="å…¬å¹³æ€§ä¸åè§"><a href="#å…¬å¹³æ€§ä¸åè§" class="headerlink" title="å…¬å¹³æ€§ä¸åè§"></a>å…¬å¹³æ€§ä¸åè§</h1><p>é¦–å…ˆå°±æ˜¯å¤§æ¨¡å‹çš„èƒŒæ™¯ï¼Œå¤§æ¨¡å‹åœ¨å¤§è¯­æ–™åº“çš„è®­ç»ƒä¸‹å…·æœ‰å¾ˆå¼ºçš„é›¶æˆ–å°‘æ ·æœ¬çš„å­¦ä¹ èƒ½åŠ›ï¼Œèƒ½åœ¨å¾ˆå¤šä¸‹æ¸¸ä»»åŠ¡ä¸Šå–å¾—å¾ˆå¥½çš„æ•ˆæœï¼Œä½†æ­£å› å¦‚æ­¤ï¼Œå¤§è¯­æ–™åº“éšå«çš„åè§æœ‰å¯èƒ½è¢«å¤§æ¨¡å‹æ•æ‰è€Œå­¦ä¹ ï¼Œä»è€Œå½±å“ä¸‹æ¸¸ä»»åŠ¡äº§ç”Ÿåè§ã€‚</p><p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»ä¸‰ä¸ªæ–¹é¢ä»‹ç»</p><ul><li>è¯„ä¼°çŸ©é˜µ</li><li>è¯„ä¼°æ•°æ®é›†</li><li>å»åç®—æ³•</li></ul><p>æ–‡ç« çš„è´¡çŒ®æœ‰</p><ul><li>NLP çš„ç¤¾ä¼šåè§å’Œå…¬å¹³å®šä¹‰çš„å·©å›ºã€å½¢å¼åŒ–å’Œæ‰©å±•</li><li>åå·®è¯„ä¼°æŒ‡æ ‡çš„è°ƒæŸ¥å’Œåˆ†ç±»</li><li>ç”¨äºåå·®è¯„ä¼°çš„æ•°æ®é›†çš„è°ƒæŸ¥å’Œåˆ†ç±»ï¼Œä»¥åŠå…¬å¼€æ•°æ®é›†çš„æ±‡ç¼–<blockquote><p><a href="https://github.com/i-gallegos/Fair-LLM-Benchmark">å…¬å¼€æ•°æ®é›†</a></p></blockquote></li><li>å‡è½»åè§æŠ€æœ¯çš„è°ƒæŸ¥å’Œåˆ†ç±»</li></ul><h2 id="å…¬å¼åŒ–å¤§æ¨¡å‹åè§ä¸å…¬å¹³æ€§"><a href="#å…¬å¼åŒ–å¤§æ¨¡å‹åè§ä¸å…¬å¹³æ€§" class="headerlink" title="å…¬å¼åŒ–å¤§æ¨¡å‹åè§ä¸å…¬å¹³æ€§"></a>å…¬å¼åŒ–å¤§æ¨¡å‹åè§ä¸å…¬å¹³æ€§</h2><ol><li>å¯¹å¤§æ¨¡å‹çš„å®šä¹‰</li></ol><p>æ–‡ç« å°†å¤§æ¨¡å‹å®šä¹‰ä¸ºï¼šç”± Î¸ å‚æ•°åŒ–çš„å¤§å‹è¯­è¨€æ¨¡å‹ (LLM) M æ˜¯ä¸€ç§åŸºäº Transformer çš„æ¨¡å‹ï¼Œå…·æœ‰è‡ªå›å½’ã€è‡ªåŠ¨ç¼–ç æˆ–ç¼–ç å™¨-è§£ç å™¨æ¶æ„ï¼Œå·²åœ¨åŒ…å«æ•°äº¿åˆ°æ•°ä¸‡äº¿ä¸ªæ ‡è®°çš„å¤§å‹è¯­æ–™åº“ä¸Šè¿›è¡Œäº†è®­ç»ƒã€‚</p><ol start="2"><li><p>å¯¹å¤§æ¨¡å‹åè§çš„å®šä¹‰</p><ul><li>ç¤¾ä¼šåè§ä¸å…¬å¹³æ€§<blockquote><p>è¿™é‡Œæœ‰è®²åˆ°å½“ä¸€ä¸ªæ ‡ç­¾è¢«è´´åˆ°ä¸€ä¸ªç¾¤ä½“ä¸Šä½¿å¾—ç¾¤ä½“çš„è¾¹ç•Œåˆæ³•åŒ–ï¼Œæ­¤æ—¶å°±å¼ºè°ƒäº†è¿™ä¸ªç¾¤ä½“ä¸å…¶å®ƒç¾¤ä½“ä¹‹é—´çš„å·®å¼‚ï¼Œè€Œè¿™ä¸ªå·®å¼‚åˆ™ä¼šå¯¼è‡´å¼ºåŒ–ç¤¾ä¼šç­‰çº§åˆ¶åº¦å’ŒæƒåŠ›å¤±è¡¡ï¼Œé€šå¸¸ä¼šå¸¦æ¥éå¸¸çœŸå®å’Œç‰©è´¨çš„åæœï¼Œå¯èƒ½å¯¼è‡´éš”ç¦»ã€è¾¹ç¼˜åŒ–å’Œå‹è¿«ã€‚</p></blockquote></li></ul><p> ç¤¾ä¼šç¾¤ä½“çš„å®šä¹‰</p><blockquote><p>å…·æœ‰ç›¸åŒèº«ä»½ç‰¹å¾çš„äººå£å­é›†ï¼Œè¯¥ç‰¹å¾å¯èƒ½æ˜¯å›ºå®šçš„ã€ç‰¹å®šèƒŒæ™¯çš„æˆ–ç¤¾ä¼šæ„å»ºçš„ã€‚</p></blockquote><p> å—ä¿æŠ¤å±æ€§çš„å®šä¹‰</p><blockquote><p>ç¡®å®šç¤¾ä¼šç¾¤ä½“èº«ä»½çš„å…±äº«ç‰¹å¾</p></blockquote><p> ç¾¤ä½“å…¬å¹³æ€§</p><blockquote><p>è¦æ±‚ä»»æ„ä¸¤ä¸ªç¾¤ä½“ä¹‹é—´ä»¥ç¾¤ä½“èº«ä»½è¿›è¡Œæµ‹é‡çš„ç»“æœåº”å½“æ˜¯ç›¸ä¼¼çš„</p></blockquote><p> ä½†æ˜¾ç„¶ä¸€ä¸ªäººå¹¶ä¸ä¸€å®šåªå±äºä¸€ä¸ªç¾¤ä½“ï¼Œå½“ä¸€ä¸ªäººå¯èƒ½å±äºå¤šä¸ªç¾¤ä½“çš„æ—¶å€™ï¼Œå•ä¸ªç¾¤ä½“çš„å…¬å¹³æ€§å¯èƒ½å¾ˆéš¾ä¿è¯ä¸ªäººçš„å…¬å¹³æ€§<br> å› æ­¤ä¸ªäººå…¬å¹³æ€§çš„å®šä¹‰</p><blockquote><p>åŸæ–‡ä¸­çš„å®šä¹‰æ˜¯åœ¨æŸäº›ä»»åŠ¡ä¸­ç›¸ä¼¼çš„äººåº”å½“è·å¾—ç›¸ä¼¼çš„å¾…é‡</p></blockquote><p> ä½†æ˜¯æˆ‘çœ‹å…¬å¼çš„æ„æ€åº”è¯¥æ˜¯æ¨¡å‹å¯¹ä»»æ„ä¸¤ä¸ªäººçš„è¾“å‡ºå·®å¼‚åº”å½“å°äºè¿™ä¸¤ä¸ªäººåŸæœ¬çš„å·®å¼‚</p><p> ç¤¾ä¼šåè§æ¥æºäºç”±äºå†å²å’Œç»“æ„æ€§æƒåŠ›ä¸å¯¹ç§°è€Œäº§ç”Ÿçš„ç¤¾ä¼šç¾¤ä½“ä¹‹é—´ä¸åŒå¾…é‡å’Œç»“æœï¼Œè¿™å¯èƒ½å°±å¯¼è‡´NLPæ¨¡å‹çš„å„ç§ç›´æ¥æ­§è§†å’Œé—´æ¥æ­§è§†</p><ul><li>NLPä»»åŠ¡ä¸­çš„åè§</li></ul><p> è®ºæ–‡åœ¨è¿™é‡Œè®ºè¿°äº†ä¸€å †ï¼Œè¯´äº†å¾ˆå¤šå…³äºè¯­è¨€åœ¨åè§æ–¹é¢çš„èƒ½åŠ›ã€‚ç„¶åå°±ä»‹ç»åˆ°åœ¨NLPä¸­ä¼šå‡ºç°çš„åè§</p><p> æ–‡æœ¬ç”Ÿæˆä½“ç°çš„å±€éƒ¨åè§å’Œæ€»ä½“åè§</p><blockquote><p>å±€éƒ¨åè§å°±æ˜¯ä¸€ä¸ªå¥å­ä¸­å¯¹ç›¸è¿‘è¯è¯­çš„æ›¿æ¢ï¼Œæ¯”å¦‚ç”·æ€§æ¢æˆå¥³æ€§ï¼Œç„¶åæ¥è¯„ä¼°æ¨¡å‹ç»“æœçš„å·®å¼‚ã€‚<br>æ€»ä½“åè§å°±æ˜¯å…¨éƒ¨å¥å­ä½“ç°çš„æ¨¡å‹å¯¹äºæŸä¸€ä¸ªç¾¤ä½“çš„æƒ…ç»ª</p></blockquote><p> æœºå™¨ç¿»è¯‘ä¸­å¯èƒ½ä¼šé»˜è®¤ä½¿ç”¨ç”·æ€§è¯æ±‡ä½œä¸ºæ ‡å‡†ï¼Œæ¯”å¦‚æˆ‘å¾ˆå¿«ä¹è®©æ¨¡å‹è¿›è¡Œè½¬è¿°æ—¶å€™æ¨¡å‹ä¼šç”¨ä»–å¾ˆå¿«ä¹è€Œä¸æ˜¯å¥¹</p><p> ä¿¡æ¯æ£€ç´¢ä¸­å³ä½¿ä½¿ç”¨éæ€§åˆ«æŒ‡å¯¼çš„æŸ¥è¯¢ï¼Œæ¨¡å‹ä¾ç„¶ä¼šè¿”å›æ›´å¤šçš„ç”·æ€§ç›¸å…³çš„æ–‡æ¡£ã€‚</p><p> é—®ç­”ç³»ç»Ÿçš„åè§å¯èƒ½åœ¨äºåœ¨å¤§è§„æ¨¡çš„è¯­æ–™åº“é¢„è®­ç»ƒä¹‹åæ•æ‰åˆ°äº†äººä»¬å¯¹æŸä¸€ç¾¤ä½“çš„åè§ï¼Œè€Œåœ¨å›ç­”é—®é¢˜ä¸­ä½“ç°è¿™äº›åè§ã€‚</p><p> åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæ¨¡å‹å¯èƒ½ä¼šå°†éƒ¨åˆ†ç¾¤ä½“çš„å†…å®¹åˆ†ç±»ä¸ºè´Ÿé¢ç»“æœ</p><p> è‡ªç„¶è¯­è¨€æ¨ç†ä¸­çš„åè§é—®é¢˜</p><blockquote><p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œè‡ªç„¶è¯­è¨€æ¨ç†ï¼ˆNLIï¼‰æ˜¯ä¸€é¡¹é‡è¦çš„ä»»åŠ¡ï¼Œæ—¨åœ¨åˆ¤æ–­ä¸¤ä¸ªå¥å­ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚è¿™äº›é€»è¾‘å…³ç³»é€šå¸¸åˆ†ä¸ºä¸‰ç§ï¼šè•´å«ï¼ˆentailmentï¼‰ã€çŸ›ç›¾ï¼ˆcontradictionï¼‰å’Œä¸­ç«‹ï¼ˆneutralï¼‰ã€‚è•´å«æ„å‘³ç€ç¬¬ä¸€ä¸ªå¥å­ï¼ˆå‰æï¼‰é€»è¾‘ä¸Šæ”¯æŒç¬¬äºŒä¸ªå¥å­ï¼ˆå‡è®¾ï¼‰çš„çœŸå®æ€§ï¼›çŸ›ç›¾æ„å‘³ç€å‰æä¸å‡è®¾åœ¨é€»è¾‘ä¸Šä¸å¯èƒ½åŒæ—¶ä¸ºçœŸï¼›ä¸­ç«‹åˆ™æ˜¯æŒ‡å‰æä¸å‡è®¾ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„é€»è¾‘å…³ç³»ã€‚</p><p>è¿™æ®µè¯æå‡ºçš„é—®é¢˜æ˜¯ï¼Œåœ¨è¿›è¡Œè‡ªç„¶è¯­è¨€æ¨ç†æ—¶ï¼Œä¸€äº›æ¨¡å‹å¯èƒ½ä¼šä¾èµ–äºé”™è¯¯çš„è¡¨è¿°æˆ–è€…åˆ»æ¿å°è±¡æ¥åšå‡ºæ¨æ–­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸å‡†ç¡®æˆ–æ— æ•ˆçš„æ¨æ–­ç»“æœã€‚ä¾‹å¦‚ï¼Œåœ¨åˆ¤æ–­â€œä¼šè®¡åƒäº†ä¸€ä¸ªç™¾å‰é¥¼â€ä¸â€œé‚£ä¸ªç”·äººåƒäº†ä¸€ä¸ªç™¾å‰é¥¼â€æˆ–â€œé‚£ä¸ªå¥³äººåƒäº†ä¸€ä¸ªç™¾å‰é¥¼â€çš„å…³ç³»æ—¶ï¼Œç†è®ºä¸Šè¿™ä¸¤ä¸ªå¥å­ä¹‹é—´çš„å…³ç³»åº”è¯¥æ˜¯ä¸­æ€§çš„ï¼Œå› ä¸ºâ€œä¼šè®¡â€è¿™ä¸€èº«ä»½ä¸æ€§åˆ«æ— å…³ï¼Œä¸åº”è¯¥å½±å“åˆ°å¥å­çš„é€»è¾‘å…³ç³»ã€‚ç„¶è€Œï¼Œå¦‚æœæ¨¡å‹æœ‰åè§ï¼Œå®ƒå¯èƒ½é”™è¯¯åœ°è®¤ä¸ºè¿™ä¸¤ä¸ªå¥å­ä¹‹é—´å­˜åœ¨è•´å«æˆ–çŸ›ç›¾å…³ç³»ï¼Œè¿™è¡¨æ˜æ¨¡å‹åœ¨æ¨ç†è¿‡ç¨‹ä¸­å—åˆ°äº†åˆ»æ¿å°è±¡çš„å½±å“ï¼Œæ²¡æœ‰æ­£ç¡®å¤„ç†ä¿¡æ¯ï¼Œä»è€Œå¯¼è‡´äº†é”™è¯¯çš„æ¨æ–­ç»“æœã€‚</p></blockquote><ul><li>å¼€å‘ä¸éƒ¨ç½²ç”Ÿå‘½å‘¨æœŸä¸­çš„åè§</li></ul><p> è®­ç»ƒæ•°æ®å¯èƒ½åªæ¥è‡ªéƒ¨åˆ†ç¾¤ä½“ï¼Œè€Œä¸èƒ½å¾ˆå¥½åœ°åˆ©ç”¨åœ¨å…¶å®ƒç¾¤ä½“ä¸Šï¼›æ•°æ®å¯èƒ½æ— æ³•åŒºåˆ†å…¨éƒ¨ç¾¤ä½“ï¼Œè€Œåœ¨éœ€è¦å¯¹éƒ¨åˆ†ç¾¤ä½“åŒºåˆ«å¯¹å¾…çš„åŸºç¡€ä¸Šè¿›è¡Œç¬¼ç»Ÿæ¦‚æ‹¬</p><p> æ¨¡å‹ä¸­çš„åå·®å¯èƒ½åœ¨äºï¼Œè®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ä¸­æ”¾å¤§äº†åå·®ï¼›åŒæ—¶ä¼˜åŒ–å‡½æ•°çš„ä¸åŒé€‰æ‹©å¦‚å…¬å¹³æ€§æˆ–å‡†ç¡®æ€§çš„åå‘ä¹Ÿä¼šå½±å“æ¨¡å‹ï¼›å¯¹è®­ç»ƒæ ·æœ¬çš„æƒè¡¡ï¼Œæˆ–è€…æ¨¡å‹è¾“å‡ºçš„æ’åºä¹Ÿä¼šå½±å“æ¨¡å‹åå·®ã€‚</p><p> åŸºå‡†æ•°æ®é›†å¯èƒ½ä¸èƒ½å›Šæ‹¬æ‰€æœ‰ä½¿ç”¨å¤§æ¨¡å‹çš„ç¾¤ä½“ï¼Œå› æ­¤å¯ä»¥å¯¹å·²ç»å›Šæ‹¬çš„ç¾¤ä½“è¿›è¡Œä¼˜åŒ–</p><p> å¤§æ¨¡å‹éƒ¨ç½²çš„ç¯å¢ƒå¯èƒ½å’Œè®¾å®šä¸åŒ</p></li><li><p>å¤§æ¨¡å‹å…¬å¹³æ€§çš„éœ€è¦</p></li></ol><p>ä¼ ç»Ÿæœºå™¨å­¦ä¹ çš„å…¬å¹³æ€§å®šä¹‰éš¾ä»¥æ»¡è¶³NLPä»»åŠ¡çš„å…¬å¹³æ€§éœ€æ±‚ï¼Œå› æ­¤éœ€è¦æ›´å¤šçš„å®šä¹‰æ¥å¸®åŠ©å®ç°NLPçš„å…¬å¹³æ€§ï¼Œæ­¤å¤„è§åŸæ–‡ï¼Œæˆ‘ä¸ä¼šæ‰“å…¬å¼ã€‚</p><p>ç„¶åç½—åˆ—äº†ä¸€å †æ–‡ç« ä»‹ç»åˆ°çš„å„ç§å…¬å¹³æ€§è¯„ä¼°å’Œå…¬å¹³æ€§æ–¹æ³•ã€‚</p><h2 id="åå·®è¯„ä¼°æ ‡å‡†çš„åˆ†ç±»"><a href="#åå·®è¯„ä¼°æ ‡å‡†çš„åˆ†ç±»" class="headerlink" title="åå·®è¯„ä¼°æ ‡å‡†çš„åˆ†ç±»"></a>åå·®è¯„ä¼°æ ‡å‡†çš„åˆ†ç±»</h2><p>åœ¨è¯„ä¼°æ¨¡å‹åå·®è¿‡ç¨‹ä¸­åŒ…å«äº†å‡ ä¸ªå±‚é¢ï¼šä»»åŠ¡æŒ‡å‘ã€åå·®ç±»å‹ã€æ•°æ®ç»“æ„ã€æŒ‡æ ‡è¾“å…¥ã€‚</p><ol><li>åŸºäºæ›¿ä»£çš„å…¬å¹³æ€§è¯„ä¼°</li></ol><p>é€šè¿‡æ¯”è¾ƒæ–‡æœ¬è¾“å…¥æ˜¯æ€§åˆ«äº’æ¢ä¹‹åçš„å¥å­ï¼Œä¾æ®æ¨¡å‹ç»™å‡ºçš„ç»“æœè¿›è¡Œå·®å¼‚æ¯”è¾ƒ</p><ol start="2"><li>åŸºäºç”¨é€”çš„æŒ‡æ ‡åˆ†ç±»</li></ol><p>å¯¹å¤§æ¨¡å‹å…¬å¹³æ€§åˆ†ç±»çš„æŒ‡æ ‡å¯ä»¥ä¾æ®æ¨¡å‹ä½¿ç”¨çš„ä¸œè¥¿å¦‚åµŒå…¥ã€æ¦‚ç‡ã€æ–‡æœ¬ç”Ÿæˆç­‰è¿›è¡Œåˆ†ç±»ã€‚</p><ul><li><p>åŸºäºåµŒå…¥çš„æŒ‡æ ‡<br>  è¯åµŒå…¥ï¼šå¾ˆç›´è§‚å°±æ˜¯æŒ‡ä»£æŸä¸€ç¾¤ä½“çš„ç‰¹æ®Šå‘é‡ä¸ä¸­æ€§è¯çš„ä½™å¼¦è·ç¦»åº”å½“éƒ½ä¸€è‡´è€Œä¸èƒ½åå‘ä¸€æ–¹<br>  å¥åµŒå…¥ï¼šç›¸å¯¹äºè¯åµŒå…¥ï¼Œå¥å­å±‚çº§çš„åµŒå…¥æ›´é€‚åˆå¤§æ¨¡å‹ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°è¯„ä¼°å¤šç»´åº¦çš„åå·®</p><blockquote><p>å…³äºåŸºäºåµŒå…¥çš„æŒ‡æ ‡ï¼Œæ–‡ç« ä¸­æåˆ°å¦‚æœè¿åäº†ç¤¾ä¼šå¯¹äºæŸäº›ç¾¤ä½“çš„è¯­è¨€ä½¿ç”¨è¢«è¿åï¼Œé‚£ä¹ˆå—ä¿æŠ¤å±æ€§çš„è¡¨ç¤ºä¸å…¶å®ƒè¯è¯­çš„å…³è”ä¸ä¸‹æ¸¸ä»»åŠ¡è¡¨ç°çš„å·®å¼‚å°±å®Œå…¨ç‹¬ç«‹äº†ï¼Œå°±æ˜¯æœ‰æ²¡æœ‰äº†å—ä¿æŠ¤å±æ€§ä¸å…¶å®ƒè¯è¯­çš„å…³è”éƒ½æ²¡æœ‰å…³ç³»ã€‚è€Œä¸”åŸºäºåµŒå…¥çš„è¯„ä»·æŒ‡æ ‡å¯èƒ½é«˜åº¦ä¾èµ–ä¸åŒçš„è®¾è®¡é€‰æ‹©ï¼Œå› æ­¤æœ€å¥½èƒ½é¿å…ä½¿ç”¨ï¼Œè€Œæ˜¯ä¸“æ³¨äºç‰¹å®šä¸‹æ¸¸ä»»åŠ¡çš„æŒ‡æ ‡è¯„ä¼°ã€‚</p></blockquote></li><li><p>åŸºäºæ¦‚ç‡çš„æŒ‡æ ‡</p><ol><li>æ©ç token</li></ol><p>  å°±æ˜¯ç»™ä¸¤ä¸ªå¥å­ï¼Œå¥å­ä¸»é¢˜æ˜¯ä¸¤ä¸ªä¸åŒçš„ç¤¾ä¼šç¾¤ä½“ï¼Œç„¶åç”¨é¢„æµ‹è¯çš„æ¦‚ç‡åˆ†å¸ƒå·®å¼‚æ¥æ¯”è¾ƒæ¨¡å‹å¦‚ä½•å¯¹å¾…ä¸¤ä¸ªç¤¾ä¼šç¾¤ä½“ã€‚</p><ol start="2"><li>ä¼ªå¯¹æ•°ä¼¼ç„¶</li></ol><p>  ç»™å®šä¸¤ä¸ªå®Œæ•´çš„å¥å­ï¼Œä¸¤ä¸ªå¥å­å«æœ‰ä¸åŒçš„ç¤¾ä¼šç¾¤ä½“ï¼Œè¯„ä¼°æ¨¡å‹åœ¨ç»™å®šæ¯ä¸ªå•è¯çš„æ¡ä»¶æ¦‚ç‡ä¸‹ï¼Œæ¯”è¾ƒé€‰æ‹©æœ€ç»ˆä¸¤ä¸ªå¥å­çš„å¯èƒ½ã€‚</p><blockquote><p>maskä¸€ä¸ªtokenï¼Œç„¶åç”¨å…¶å®ƒæ²¡æœ‰è¢«maskçš„tokenæ¥é¢„æµ‹è¿™ä¸ªtokenï¼Œç”¨æ¥è¿‘ä¼¼æ¡ä»¶æ¦‚ç‡</p></blockquote><ol start="3"><li>å¯¹æ•°æ¦‚ç‡åå·®åˆ†æ•°LPBS</li></ol><p>  è¿™ä¸ªå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªä¸åŒç¤¾ä¼šç¾¤ä½“åœ¨ç”¨å…ˆéªŒæ ‡å‡†åŒ–çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªç¾¤ä½“åˆ†åˆ«å‡ºç°åœ¨ä¸€ä¸ªå«æœ‰ä¸­æ€§è¯è¯­å¥å­ä¸­çš„å¯¹æ•°æ¦‚ç‡å·®å¼‚</p><p>4. </p><p>  å¥½æ— èŠç»¼è¿°çœ‹çš„<br>  çœŸæ²¡æ„æ€<br>  çœ‹çœ‹åˆ«çš„å»å¥½äº†</p><p>  ç¼ºé™·ä¸åµŒå…¥è¯„ä¼°ç›¸ä¼¼ï¼Œä¼¼ä¹æ˜¯å’Œä¸‹æ¸¸ä»»åŠ¡å¾ˆå°‘ç›¸å…³</p></li><li><p>åŸºäºæ–‡æœ¬ç”Ÿæˆçš„æŒ‡æ ‡</p></li></ul><p>çœ‹å›¾ä¼¼ä¹æ˜¯ç»™å®šä¸€ä¸ªpromptç„¶åè®©å¤§æ¨¡å‹ç”Ÿæˆï¼Œé€šè¿‡è¯„åˆ¤ç”Ÿæˆç»“æœæ¥è¯„ä¼°å…¬å¹³æ€§</p><h2 id="åè§ç¼“è§£æŠ€æœ¯"><a href="#åè§ç¼“è§£æŠ€æœ¯" class="headerlink" title="åè§ç¼“è§£æŠ€æœ¯"></a>åè§ç¼“è§£æŠ€æœ¯</h2><ul><li><p>é¢„å¤„ç†</p><ul><li><p>æ•°æ®å¢å¼º</p><blockquote><p>add new examples which is not biased to the training data</p></blockquote><p>çœ‹å›¾ä¹Ÿå°±æ˜¯æ”¹å˜è®­ç»ƒæ•°æ®ä¸­çš„æ€§åˆ«ï¼Œå°±æ˜¯åäº‹å®è®­ç»ƒä¸€æ ·ï¼Œè®©ç¤¾ä¼šç¾¤ä½“äº’ç›¸æ›¿ä»£æ¥è®­ç»ƒæ¨¡å‹ï¼Œæ¥è¾¾åˆ°å¹³è¡¡è®­ç»ƒæ•°æ®çš„ç›®çš„ã€‚æ•°æ®å¹³è¡¡çš„åšæ³•ä¸€èˆ¬æ˜¯è®©æ ·æœ¬æˆå¯¹å‡ºç°ã€æˆ–è€…è®©å¯¹ç«‹æ ·æœ¬åœ¨è®­ç»ƒé›†ä¸­å¹³è¡¡</p><blockquote><p>ç¼ºé™·åœ¨å“ªé‡Œï¼šå—åˆ°ä¸å®Œæ•´çš„å•è¯å¯¹åˆ—è¡¨çš„é™åˆ¶ï¼Œå¹¶ä¸”åœ¨äº¤æ¢æœ¯è¯­æ—¶å¯èƒ½ä¼šå¼•å…¥è¯­æ³•é”™è¯¯ã€‚</p></blockquote></li><li><p>æ•°æ®è¿‡æ»¤ä¸é‡æ–°åŠ æƒ<br>è¿‡æ»¤æ‰å¾ˆæœ‰æ”»å‡»æ€§å’Œåè§çš„æ•°æ®ï¼Œè®©é‚£äº›ç°å®ä¸–ç•Œå—åˆ°åè§ç¾¤ä½“çš„æ ·æœ¬æƒé‡å¢åŠ ï¼Œé™ä½ä¸å—åˆ°åè§ç¾¤ä½“çš„æ ·æœ¬æƒé‡</p></li><li><p>æ•°æ®ç”Ÿæˆ</p><blockquote><p>ä¸Šé¢ä¸¤ç§æ–¹æ³•çš„ç¼ºé™·åœ¨äºéœ€è¦è¯†åˆ«æ¯ä¸ªåå·®ç»´åº¦çš„ç¤ºä¾‹ï¼Œè¿™äº›åå·®å¯èƒ½ä¼šæ ¹æ®ä¸Šä¸‹æ–‡ã€åº”ç”¨ç¨‹åºæˆ–æ‰€éœ€è¡Œä¸ºè€Œæœ‰æ‰€ä¸åŒã€‚<br>ç›¸ä¼¼å¥å­æ›¿æ¢ï¼Œä¹Ÿå°±æ˜¯ç”¨æ›´é«˜è´¨é‡çš„è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒ</p></blockquote></li><li><p>æŒ‡ä»¤å¾®è°ƒ<br>åœ¨æ¯ä¸ªæ ·æœ¬ä¹‹å‰æ·»åŠ ä¸€ä¸ªåŸºè°ƒè®©æ¨¡å‹ä»¥è¿™ä¸ªåŸºè°ƒå­¦ä¹ è¿™ä¸ªæ ·æœ¬</p></li><li><p>åŸºäºæŠ•å½±çš„ç¼“è§£<br>è²Œä¼¼æ˜¯è¯†åˆ«ä¸ä¿æŠ¤å±æ€§æœ‰å…³çš„åµŒå…¥ç©ºé—´ï¼Œç„¶åæ”¹å˜ä¸Šä¸‹æ–‡åµŒå…¥ä»¥æ¸…é™¤åè§ç»´åº¦</p></li></ul></li><li><p>è®­ç»ƒä¸­ç¼“è§£</p><ul><li>ç»“æ„ä¿®æ”¹<br>ä¿®æ”¹æ¨¡å‹é…ç½®ï¼Œåˆ©ç”¨é€‚é…å™¨æ·»åŠ æ–°çš„å¯è®­ç»ƒå‚æ•°</li><li>æŸå¤±å‡½æ•°ä¿®æ”¹<br>ç”¨æŸå¤±å‡½æ•°ä½œä¸ºæ–°æŒ‡æ ‡ï¼Œæ¥å¹³è¡¡å¯¹ç«‹ç¤¾ä¼šç¾¤ä½“çš„å±æ€§åè§</li><li>é€‰æ‹©å‚æ•°æ›´æ–°<br>å†»ç»“å¤§éƒ¨åˆ†é¢„è®­ç»ƒå‚æ•°è€Œé€‰æ‹©å°‘éƒ¨åˆ†å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœä¸å†»ç»“å°±æœ‰å¯èƒ½åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­å¿˜è®°é¢„è®­ç»ƒçš„å†…å®¹ï¼Œç§°ä¸ºç¾éš¾æ€§é—å¿˜ã€‚</li><li>è¿‡æ»¤æ¨¡å‹å‚æ•°<br>å†»ç»“å…¨éƒ¨å‚æ•°ï¼Œä½†ä»¥å»åä¸ºç›®æ ‡å‰ªæéƒ¨åˆ†å‚æ•°</li></ul></li><li><p>å¤„ç†ä¸­ç¼“è§£</p><ul><li>å—çº¦æŸçš„next token search<br>é™åˆ¶ä¸‹ä¸€ä¸ªæœ‰åè§æˆ–å†’çŠ¯æ„å‘³çš„è¯è¯­ï¼Œæˆ–è€…å°†ç¤¾ä¼šä¸­å—åè§çš„ç¾¤ä½“æ ‡ç­¾æ›¿æ¢ä¸Šæ¥</li><li>æ”¹å˜tokenåˆ†å¸ƒ<br>é™ä½å¯¹ç«‹ç¤¾ä¼šç¾¤ä½“ä¸­æœªå—åè§çš„ç¾¤ä½“æ ‡ç­¾çš„åˆ†å¸ƒï¼Œå¢åŠ å—åè§ä¸€æ–¹çš„åˆ†å¸ƒï¼ŒåŒæ—¶å¤§å¤§å‡å°‘åŒ…å«åè§æ„å‘³çš„è¯è¯­</li><li>æƒé‡é‡åˆ†é…<br>å¯¹æ³¨æ„åŠ›çŸ©é˜µä¿®æ”¹ï¼Œé¿å…æŸä¸ªç¤¾ä¼šæ ‡ç­¾ä¸åè§tokenæœ‰è¿‡å¤šçš„ç›¸å…³</li><li>æ¨¡å—åŒ–å»åç½‘ç»œ<br>ç‹¬ç«‹çš„å»åæ¨¡å—å¸®åŠ©LLMå»é™¤åè§</li></ul></li><li><p>åå¤„ç†</p><ul><li>é‡å†™<br>é‡å†™ç­–ç•¥ä½¿ç”¨åŸºäºè§„åˆ™æˆ–ç¥ç»çš„é‡å†™ç®—æ³•æ¥æ£€æµ‹æœ‰å®³å•è¯ï¼Œå¹¶ç”¨æ›´ç§¯ææˆ–æ›´å…·ä»£è¡¨æ€§çš„æœ¯è¯­æ›¿æ¢å®ƒä»¬ã€‚è¯¥ç­–ç•¥è€ƒè™‘å®Œå…¨ç”Ÿæˆçš„è¾“å‡ºï¼ˆä¸è§£ç æŠ€æœ¯ä¸­çš„ä¸‹ä¸€ä¸ªå•è¯é¢„æµ‹ç›¸åï¼‰ã€‚</li></ul><blockquote><p>åå¤„ç†ç¼“è§£æªæ–½ä¸å‡è®¾å¯ä»¥è®¿é—®å¯è®­ç»ƒæ¨¡å‹ï¼Œè¿™ä½¿å¾—è¿™äº›æŠ€æœ¯é€‚ç”¨äºé»‘ç›’æ¨¡å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé‡å†™æŠ€æœ¯æœ¬èº«å¾ˆå®¹æ˜“è¡¨ç°å‡ºåè§ã€‚å†³å®šé‡å†™å“ªäº›è¾“å‡ºæœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸»è§‚ä¸”å……æ»¡ä»·å€¼çš„å†³å®šã€‚ä¸æ¯’æ€§å’Œæƒ…æ„Ÿåˆ†ç±»å™¨çš„æ½œåœ¨å±å®³ç±»ä¼¼ï¼ˆå‚è§ç¬¬ 3.5.4 èŠ‚ï¼‰ï¼Œåº”ç‰¹åˆ«æ³¨æ„ç¡®ä¿æŸäº›ç¤¾ä¼šç¾¤ä½“çš„è¯­è¨€é£æ ¼ä¸ä¼šè¢«è¿‡åº¦æ ‡è®°å’Œæ”¹å†™ã€‚åˆ é™¤å—ä¿æŠ¤çš„å±æ€§è¿˜å¯èƒ½æŠ¹å»é‡è¦çš„èƒŒæ™¯å¹¶äº§ç”Ÿè¾ƒå°‘å¤šæ ·æ€§çš„è¾“å‡ºï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€ç§æ’ä»–æ€§è§„èŒƒçš„å½¢å¼ã€‚ç¥ç»é‡å†™å™¨è¿˜å—åˆ°å¹¶è¡Œè®­ç»ƒè¯­æ–™åº“å¯ç”¨æ€§çš„é™åˆ¶ï¼Œè¿™å¯èƒ½ä¼šé™åˆ¶å®ƒä»¬è¦è§£å†³çš„åè§çš„ç»´åº¦ã€‚</p></blockquote></li></ul><h2 id="é—®é¢˜ä¸æŒ‘æˆ˜"><a href="#é—®é¢˜ä¸æŒ‘æˆ˜" class="headerlink" title="é—®é¢˜ä¸æŒ‘æˆ˜"></a>é—®é¢˜ä¸æŒ‘æˆ˜</h2><ul><li><p>è§£å†³æƒåŠ›ä¸å¹³è¡¡</p><ul><li><p>å°†è¾¹ç¼˜ç¾¤ä½“ä¸­å¿ƒåŒ–</p><blockquote><p>ç­‰çº§åˆ¶åº¦å¯èƒ½ä¼šåŠ æ·±åè§ï¼ŒåŒæ—¶åœ¨æ¶ˆé™¤åè§çš„è¿‡ç¨‹ä¸­ï¼Œæ¶ˆé™¤åè§çš„æ–¹æ³•ä¹Ÿå¯èƒ½ä¼šå¼•å…¥æ–°çš„åè§ï¼ŒæŠ€æœ¯äººå‘˜åœ¨è¿›è¡Œå»åæ—¶å€™å¿…é¡»è¾©è¯çœ‹å¾…é—®é¢˜ï¼Œæ›´å¹¿æ³›åœ°æ‰“ç ´æœ‰å®³çš„æƒåŠ›å¤±è¡¡çš„æ ¸å¿ƒæ˜¯å°†è¾¹ç¼˜åŒ–ç¤¾åŒºå¸¦å…¥æ³•å­¦ç¡•å£«å†³ç­–å’Œç³»ç»Ÿå¼€å‘çš„æœ€å‰æ²¿ï¼Œ</p></blockquote></li><li><p>å¼€å‘å‚ä¸æ€§ç ”ç©¶è®¾è®¡<br>å°±æ˜¯èµ°ç¾¤ä¼—è·¯çº¿ï¼Œå¼•å…¥ç¤¾åŒºäººå‘˜çš„æ„è§</p><blockquote><p>å°†ç¤¾åŒºæˆå‘˜çº³å…¥ç ”ç©¶è¿‡ç¨‹ï¼Œä»¥æ›´å¥½åœ°ç†è§£å’Œä»£è¡¨ä»–ä»¬çš„éœ€æ±‚ã€‚æ›´å¹¿æ³›åœ°è¯´ï¼Œå»ºç«‹ç¤¾åŒºå¾ªç¯ç ”ç©¶æ¡†æ¶å¯ä»¥æ‰“ç ´æŠ€æœ¯äººå‘˜å’Œå—å½±å“ç¤¾åŒºä¹‹é—´çš„æƒåŠ›ä¸å¹³è¡¡ã€‚</p></blockquote></li><li><p>é‡å»ºä»·å€¼è§‚å’Œå‡è®¾<br>æˆ‘æ„Ÿè§‰è¿™ä¸ªä¸æ˜¯ç‰¹åˆ«ç°å®</p><blockquote><p>åè§å’Œå…¬å¹³æ˜¯ç¤¾ä¼šã€æ–‡åŒ–ã€å†å²ã€æ”¿æ²»å’Œåœ°åŒºèƒŒæ™¯ä¸‹é«˜åº¦ä¸»è§‚å’Œè§„èŒƒçš„æ¦‚å¿µã€‚å› æ­¤ï¼Œåè§å’Œå…¬å¹³ç ”ç©¶æ— æ³•å‡è®¾ä¸€å¥—å•ä¸€çš„ä»·å€¼è§‚</p></blockquote><p>ä½†å…¶å®çœ‹å®Œè¿™ä¸€æ®µï¼Œä½œè€…çš„æ„æ€åº”è¯¥æ˜¯ä½¿ç”¨æ›´å¹¿é˜”èƒŒæ™¯çš„è®­ç»ƒæ•°æ®æ¥è®­ç»ƒå¤§æ¨¡å‹ï¼Œå› ä¸ºåœ¨æŸä¸€ç‰¹å®šæ–‡åŒ–ç¯å¢ƒä¸‹è®­ç»ƒçš„å¤§æ¨¡å‹å¯èƒ½åœ¨å¦ä¸€ä¸ªæ–‡åŒ–ç¯å¢ƒä¸­ä½¿ç”¨çš„æ—¶å€™è¡¨ç°æ¯”è¾ƒå¼ºçš„åè§ã€‚</p><blockquote><p>ç§‘å­¦å’Œè®¡ç®—ç ”ç©¶ä¸­çš„å‡è®¾å’Œä»·å€¼è§‚å¾€å¾€åæ˜ äº†ä¸»å¯¼ç¾¤ä½“çš„å‡è®¾å’Œä»·å€¼è§‚ã€‚ç ”ç©¶äººå‘˜å’Œå®è·µè€…å¯ä»¥å»ºç«‹æ›´ä¸¥æ ¼çš„ç¤¾ä¼šå˜é©ç†è®ºï¼Œä»¥è¯­è¨€å­¦ã€ç¤¾ä¼šå­¦å’Œå“²å­¦ç­‰é¢†åŸŸçš„ç›¸å…³åŸç†ä¸ºåŸºç¡€ï¼Œ</p></blockquote></li><li><p>é¢å¤–è¯­è¨€èµ„æº</p><p>ç”±ä¸Šä¸€æ¡å¯çŸ¥ï¼Œéœ€è¦åˆ«çš„è¯­è¨€çš„ä¼˜ç§€æ•°æ®é›†ï¼ŒåŒæ—¶ä¿è¯æ•°æ®é›†çš„è´¨é‡</p></li></ul></li><li><p>NLPå…¬å¹³æ€§</p><ul><li><p>å¯¹å…¬å¹³æ€§æ‰©å±•çš„è¿«åˆ‡éœ€è¦ï¼Œç›®å‰æœºå™¨å­¦ä¹ å·²ç»æœ‰ä¸€å¥—å…¬å¹³æ€§å’Œåè§çš„æ¡†æ¶ï¼Œä½†æ˜¯åœ¨è‡ªç„¶è¯­è¨€ä»»åŠ¡ä¸­åº”å½“æœ‰æ‰©å±•çš„æ›´å…·ä½“çš„å…¬å¹³æ€§</p></li><li><p>é‡æ–°æ€è€ƒç¤¾ä¼šç¾¤ä½“çš„å®šä¹‰ã€‚é€šå¸¸éœ€è¦å¯¹ç¤¾ä¼šç¾¤ä½“è¿›è¡Œåˆ’åˆ†æ¥è¯„ä¼°å·®å¼‚ï¼Œä½†åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç¤¾ä¼šç»“æ„åˆæ³•åŒ–ï¼Œå¼ºåŒ–æƒåŠ›å·®å¼‚ï¼Œå¹¶ä¿ƒæˆå‹è¿«åˆ¶åº¦</p></li></ul><p>å°±æ˜¯è¯´ç°æœ‰çš„ç¤¾ä¼šç¾¤ä½“æ¶æ„å¯èƒ½ä¼šè¿‡äºå±€é™ï¼Œä¸èƒ½è€ƒè™‘åˆ°æ›´ç»†ç²’åº¦çš„ç¾¤ä½“è€Œéšå¼åœ°å¯¼è‡´å¯¹ç»†ç²’åº¦ç¾¤ä½“çš„åè§</p><ul><li>æ‰¿è®¤ä¸åŒçš„ç¤¾ä¼šç¾¤ä½“<br>è¿™ä¸€ç‚¹æˆ‘æ˜¯è®¤å¯çš„ï¼Œå› ä¸ºå¦‚æœå•çº¯é‡‡ç”¨æ¶ˆå»ç¤¾ä¼šç¾¤ä½“çš„ä¿æŠ¤å±æ€§ä»¥æœŸæœ›æ¨¡å‹å…¬å¹³å¯¹å¾…ä¸åŒçš„ç¾¤ä½“è¿™æ˜¯ä¸å¤ªç°å®çš„ï¼Œåè§æ¥æºæ˜¯å¤šæ ·çš„ï¼Œå•çº¯æ¶ˆå»ä¿æŠ¤å±æ€§å¯èƒ½ä¼šä½¿å¾—æ›´åŠ æ— ç¼˜æ•…çš„åè§åŠ åœ¨æŸä¸€ç¤¾ä¼šç¾¤ä½“ä¸Šã€‚åº”å½“é’ˆå¯¹ç°å®ç¤¾ä¼šç¾¤ä½“çš„åè§åŸå› ï¼Œåˆç†åˆ¶å®šå»åçš„æ–¹æ¡ˆ</li></ul></li><li><p>ä¼˜åŒ–è¯„ä»·å‡†åˆ™<br>å­—é¢æ„æ€</p></li><li><p>æ”¹è¿›ç¼“è§£æªæ–½</p><ul><li><p>å®ç°å¯æ‰©å±•æ€§ã€‚</p><p>è¿™ä¸ªä¹Ÿå°±æ˜¯è¯´ï¼Œç°æœ‰çš„ç¼“è§£åè§çš„æ–¹æ³•ä¸ç‰¹å®šç®—æ³•è€¦åˆï¼Œä½¿å¾—å»åçš„èŒƒå›´å˜å¾—ç‹­éš˜ï¼Œæ¯”å¦‚è¯´åˆ—ä¸ªé¿å…è¯è¡¨å•Šã€é’ˆå¯¹éƒ¨åˆ†åè§è¿›è¡Œä¼˜åŒ–è¿™ç§ï¼Œæ­¤æ—¶æ¨¡å‹å¯¹äºç¼“è§£çš„åè§å°±å±€é™åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œè€Œå…¶å®ƒéƒ¨åˆ†çš„åè§å°±éš¾ä»¥ç¼“è§£ï¼Œè¦æƒ³æ›´å¥½åº”å¯¹æ›´å¤šçš„åè§å°±éœ€è¦å»åæ–¹æ³•æœ‰æ›´å¤§çš„æ‰©å±•èƒ½åŠ›ã€‚</p></li><li><p>æ··åˆæŠ€æœ¯</p><p>ç”¨å¤šç§é˜¶æ®µçš„å…¬å¹³æ€§ç®—æ³•æ¥å»åï¼Œä½†æˆ‘è§‰å¾—è¿™å¯èƒ½ä¼šè®©æ¨¡å‹æ€§èƒ½æ›´å¼±</p></li><li><p>å¤§æ¨¡å‹å¯¹åè§çš„ç¼–ç ï¼Œåœ¨å“ªä¸ªç»„ä»¶ï¼Œå»åç®—æ³•å¦‚ä½•ç¼“è§£è¿™äº›ç­‰é—®é¢˜éƒ½æ‚¬è€Œæœªå†³</p></li></ul></li><li><p>æ¢ç´¢ç†è®ºæé™</p><ul><li>æ€§èƒ½ä¸å…¬å¹³çš„trade off</li><li>ç†è®ºåŒ–æ¨¡å‹<br>ç°æœ‰ç†è®ºæ¥è‡ªäºç»éªŒ</li></ul></li></ul><h1 id="ç»ˆäºTMçœ‹å®Œäº†ï¼ŒçœŸä¸æƒ³çœ‹äº†"><a href="#ç»ˆäºTMçœ‹å®Œäº†ï¼ŒçœŸä¸æƒ³çœ‹äº†" class="headerlink" title="ç»ˆäºTMçœ‹å®Œäº†ï¼ŒçœŸä¸æƒ³çœ‹äº†"></a>ç»ˆäºTMçœ‹å®Œäº†ï¼ŒçœŸä¸æƒ³çœ‹äº†</h1><p>æˆ‘è¦æä¸€ä¸ªgemmaç©ç©çœ‹çš„ï¼Œæœ€å¥½å¾®è°ƒä¸€ä¸‹å†ç»™æˆ‘å†™ä¸ªå°è¯´ä»€ä¹ˆçš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å¤§æ¨¡å‹è®ºæ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>llama2cpp</title>
      <link href="/2024/03/05/llama2cpp/"/>
      <url>/2024/03/05/llama2cpp/</url>
      
        <content type="html"><![CDATA[<h1 id="æœ¬åœ°éƒ¨ç½²llama2"><a href="#æœ¬åœ°éƒ¨ç½²llama2" class="headerlink" title="æœ¬åœ°éƒ¨ç½²llama2"></a>æœ¬åœ°éƒ¨ç½²llama2</h1><p>æ ¹æ®Bç«™è§†é¢‘æ”»ç•¥åšçš„éƒ¨ç½²ï¼Œ<a href="https://www.bilibili.com/video/BV1m34y1M7dM?vd_source=4414e7cb68c1443baf8d60ed1c992278">æ— éœ€GPUï¼Œæœ¬åœ°éƒ¨ç½²Llama2-13Bæ¨¡å‹</a></p><ol><li>é¦–å…ˆå°±æ˜¯è¦åœ¨windowsç¯å¢ƒä¸‹å®‰è£…wslï¼Œè¿™ä¸ªæ˜¯æ¨¡æ‹Ÿlinuxç¯å¢ƒçš„<br>æŸ¥çœ‹æœ‰å“ªäº›linuxç³»ç»Ÿå¯ä»¥è¿›è¡Œå®‰è£…<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list --online</span><br></pre></td></tr></table></figure></li><li>å¤åˆ¶ä½ æƒ³å®‰è£…çš„ç³»ç»Ÿåç§°è¿›è¡Œå®‰è£…<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install -d sys_name</span><br></pre></td></tr></table></figure>å†æ ¹æ®è¦æ±‚åˆ›å»ºç”¨æˆ·åå¯†ç å°±è¡Œ</li><li>æ›´æ¢å­˜å‚¨åŒºåŸŸï¼Œé»˜è®¤ä¸‹è½½çš„wslæ˜¯ä¸‹è½½åœ¨Cç›˜ï¼Œéœ€è¦æ›´æ¢ä¸€ä¸‹ ~~æˆ‘çš„Cç›˜ä¸å¤šäº†ã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wsl -l -v # æ˜¾ç¤ºå·²ç»å®‰è£…äº†çš„ç³»ç»Ÿ</span><br><span class="line">wsl --export sys_name target_dir # sys_name=ä½ çš„ç³»ç»Ÿå‘½ï¼Œ target_dirå°±æ˜¯ç›®æ ‡è·¯å¾„ï¼Œæˆ‘çš„æ˜¯Dï¼š\Ubuntu-22.04.tar</span><br><span class="line">wsl --unregister sys_name # å°†åŸæ¥çš„åˆ é™¤</span><br><span class="line">wsl --import sys_name source_dir target_dir --version 2 # source_dirå°±æ˜¯ä½ å¸Œæœ›å®ƒå­˜å‚¨çš„ä½ç½®</span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨ï¼<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --distribution sys_name --user user_name # user_nameæ˜¯ä¹‹å‰è®¾ç½®çš„ç”¨æˆ·å</span><br></pre></td></tr></table></figure></li><li>åœ¨wslä¸­ä¸‹è½½<a href="https://docs.anaconda.com/free/miniconda/index.html">miniconda</a><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><blockquote><p>å¾—ç­‰ä¸ªäºŒååˆ†é’Ÿå·¦å³ï¼Œæˆ‘å°±æ˜¯åœ¨ç­‰çš„æ—¶å€™å†™çš„è¿™ä¸ªä¸œè¥¿ã€‚ã€‚ğŸ˜­</p></blockquote></li></ol><p>ä¸‹è½½å®Œæˆå</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash Miniconda3-latest-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p>ç„¶åé˜…è¯»åè®®ï¼Œä¸€ç›´å›è½¦ç„¶åyesyesyeså°±å®Œæˆäº†å®‰è£…</p><ol start="6"><li><p>åˆ·æ–°ç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc # ä¼šè¿›å…¥baseç¯å¢ƒ</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ # æ·»åŠ condaé•œåƒ</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple # æ·»åŠ pipé•œåƒ</span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½llamaå’Œllama.cppï¼Œç„¶åè¿›å…¥llama</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/facebookresearch/llama.git</span><br><span class="line">git clone https://github.com/ggerganov/llama.cpp.git</span><br><span class="line">cd llama</span><br><span class="line">ll</span><br></pre></td></tr></table></figure><p>è¿›å»ä¹‹åå¯ä»¥çœ‹åˆ°æœ‰ä¸“é—¨ä¸‹è½½æ¨¡å‹çš„è„šæœ¬ï¼Œç„¶åè¦å»å®˜ç½‘è·å–ä¸‹è½½é“¾æ¥</p></li></ol><h1 id="å¤­æŠ˜ï¼ï¼"><a href="#å¤­æŠ˜ï¼ï¼" class="headerlink" title="å¤­æŠ˜ï¼ï¼"></a>å¤­æŠ˜ï¼ï¼</h1><p>ä¸‹è½½LLAMAæ¨¡å‹çš„è¡¨å•æäº¤ä¸äº†ï¼æç¤ºâ€œThere was an error submitting your email address.â€</p><p>ç®—äº†ï¼Œ ç”¨huggingfaceè¯•è¯•google gemmaï¼Ÿ</p>]]></content>
      
      
      
        <tags>
            
            <tag> å¤§æ¨¡å‹å®è·µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeæ’ä»¶ hexo_helper</title>
      <link href="/2024/03/04/page/"/>
      <url>/2024/03/04/page/</url>
      
        <content type="html"><![CDATA[<h1 id="my-first-blog"><a href="#my-first-blog" class="headerlink" title="my first blog"></a>my first blog</h1><p>åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­çªç„¶æœ‰äº†è®°ç¬”è®°çš„æƒ³æ³•ï¼Œè¿™æ ·å¯ä»¥æ—¶æ—¶è®°å½•å­¦ä¹ è¿‡ç¨‹ï¼Œå…å¾—å¯¼å¸ˆé—®è¿™å‘¨å¹²äº†ä»€ä¹ˆçš„æ—¶å€™åªèƒ½æ“¦æ±—ï¼Œäºæ˜¯å°±æƒ³åˆ°äº†æ­å»ºä¸ªäººåšå®¢ï¼Œç”¨æ—¥è®°è®°å½•æ—¥å¸¸å­¦ä¹ çš„è¿‡ç¨‹ã€‚<br>å› ä¸ºæ–‡æ¡£ç”Ÿæˆæœ‰ä¸€ä¸ªå›ºå®šçš„æ¨¡æ¿ï¼Œæ–¹ä¾¿åšå®¢æ¡†æ¶å¯¹æ–‡æ¡£ä¿¡æ¯è¿›è¡Œæ¸²æŸ“æ˜¾ç¤ºï¼Œå› æ­¤ä¸ºäº†é¿å…æ¯æ¬¡éƒ½éœ€è¦å¤åˆ¶ç²˜è´´è¿™ä¸ªæ¨¡æ¿ï¼Œæˆ‘å°±ç”¨è‡ªåŠ¨åŒ–è„šæœ¬çš„æ–¹å¼æ¥å®Œæˆè¿™ä¸€è¿‡ç¨‹ã€‚</p><span id="more"></span><h2 id="ä¿å­˜æ—¶è¿è¡Œè„šæœ¬"><a href="#ä¿å­˜æ—¶è¿è¡Œè„šæœ¬" class="headerlink" title="ä¿å­˜æ—¶è¿è¡Œè„šæœ¬"></a>ä¿å­˜æ—¶è¿è¡Œè„šæœ¬</h2><p>vscodeä¸­ä¸‹è½½run on saveæ’ä»¶ï¼Œå¹¶åœ¨setting.jsonä¸­æ–‡ä»¶è¿›è¡Œè®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;emeraldwalk.runonsave&quot;: &#123;</span><br><span class="line">    &quot;commands&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;match&quot;: &quot;\\.md$&quot;,</span><br><span class="line">            &quot;cmd&quot;: &quot;python $&#123;workspaceFolder&#125;/your_script_path.py $&#123;file&#125;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½åŒ¹é…æ‰€æœ‰mdæ–‡ä»¶ï¼Œåœ¨ä¿å­˜è¿‡ç¨‹ä¸­è°ƒç”¨pythonè„šæœ¬ï¼Œ<br>pythonè„šæœ¬æ˜¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line">current_datetime = datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line">file_path = sys.argv[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_or_insert_updated_field</span>(<span class="params">content, current_datetime</span>):</span><br><span class="line">    <span class="comment"># æ£€æµ‹æ˜¯å¦å·²å­˜åœ¨updatedå­—æ®µï¼Œå¹¶å‡†å¤‡ç›¸åº”çš„æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">    updated_pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;updated: [\d-]+\s[\d:]+&#x27;</span>)</span><br><span class="line">    date_pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;date: [\d-]+\s[\d:]+&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> updated_pattern.search(content):</span><br><span class="line">        <span class="comment"># å¦‚æœå­˜åœ¨updatedå­—æ®µï¼Œåˆ™æ›´æ–°å…¶å€¼</span></span><br><span class="line">        updated_content = updated_pattern.sub(<span class="string">f&#x27;updated: <span class="subst">&#123;current_datetime&#125;</span>&#x27;</span>, content)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># å¦‚æœä¸å­˜åœ¨updatedå­—æ®µï¼Œæ‰¾åˆ°dateå­—æ®µå¹¶åœ¨å…¶ä¸‹æ’å…¥updatedå­—æ®µ</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">replacement</span>(<span class="params"><span class="keyword">match</span></span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;<span class="keyword">match</span>.group(<span class="number">0</span>)&#125;</span>\nupdated: <span class="subst">&#123;current_datetime&#125;</span>&quot;</span></span><br><span class="line">        updated_content = date_pattern.sub(replacement, content)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> updated_content</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;r+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    content = file.read()</span><br><span class="line">    updated_content = update_or_insert_updated_field(content, current_datetime)</span><br><span class="line">    file.seek(<span class="number">0</span>)</span><br><span class="line">    file.write(updated_content)</span><br><span class="line">    file.truncate()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒèƒ½è‡ªåŠ¨è·å–mdæ–‡æ¡£ï¼Œå¹¶åœ¨æ–‡æ¡£é¡¶éƒ¨çš„æ¨¡æ¿ä¸­æ›´æ–°updatedæ—¶é—´<br>ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page_name</span><br></pre></td></tr></table></figure><p>å°±èƒ½æ–°å»ºä¸€ä¸ªå«æœ‰åŸå§‹æ–‡æ¡£æ¨¡æ¿çš„æ–‡ä»¶</p><h2 id="vscodeæ‰©å±•æ’ä»¶"><a href="#vscodeæ‰©å±•æ’ä»¶" class="headerlink" title="vscodeæ‰©å±•æ’ä»¶"></a>vscodeæ‰©å±•æ’ä»¶</h2><p>ä¹åäº†ï¼Œä¸Šé¢çš„è„šæœ¬ä¸ç”¨äº†ï¼Œæˆ‘ç›´æ¥ç”¨gpt4ï¼Œ0åŸºç¡€ä»0å¼€å‘äº†vscodeæ’ä»¶ã€‚</p><blockquote><p>gpt4å†™èµ·æ¥å¾ˆå¿«ï¼Œè°ƒè¯•è¿‡ç¨‹å¾ˆæ¼«é•¿<br>è€Œä¸”æ²¡å­¦è¿‡typescriptï¼Œä¹Ÿæ²¡å¼€å‘è¿‡vscodeæ’ä»¶ï¼Œæµ‹è¯•ä»£ç éå¸¸éå¸¸å›°éš¾<br>ç”Ÿæˆä¸€ä¸ªèƒ½åˆæ­¥å®Œæˆè¦æ±‚çš„æ’ä»¶å‘å¸ƒæ’ä»¶åªæœ‰å’Œgpt4äº¤è°ˆåŠä¸ªå¤šå°æ—¶ï¼Œè§£å†³bugå¾—è¦æµªè´¹ä¸€ä¸ªä¸‹åˆ</p></blockquote><p>æ­¥éª¤å¤§æ¦‚å¦‚ä¸‹</p><ol><li>é¦–å…ˆéœ€è¦ç¡®ä¿æœ‰node.jså’Œvscode</li><li>è¿è¡Œä¸‹åˆ—ä»£ç æ¥åˆ›å»ºæ’ä»¶éª¨æ¶<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo generator-code</span><br><span class="line">yo code</span><br></pre></td></tr></table></figure></li><li>ç„¶åå°±æ˜¯ä»£ç å†…å®¹äº†ï¼Œåœ¨extension.tsä¸­ç¼–å†™å°±è¡Œäº†<blockquote><p>å…·ä½“è§<a href="https://github.com/zuoqiumama/hexo_blog_helper">github</a></p></blockquote></li></ol><p>å…¶ä¸­å‡ºç°æ¯”è¾ƒå¤šçš„é—®é¢˜å°±æ˜¯æ­£åˆ™åŒ¹é…çš„é—®é¢˜ï¼Œä¸è¿‡å‡ºç°ä»€ä¹ˆé—®é¢˜æŠŠé—®é¢˜æè¿°ä¸€éç»™gpt4å¬å°±å®Œäº‹äº†ã€‚</p><ol start="4"><li>æœ€åå°±æ˜¯æ‰“åŒ…</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce package</span><br></pre></td></tr></table></figure><p>ç„¶åå°±èƒ½åœ¨vscodeçš„æ’ä»¶å¸‚åœºçš„å³ä¸Šè§’ä»¥vsixçš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œå°±èƒ½ä½¿ç”¨äº†ã€‚</p><p>ç›®å‰çš„åŠŸèƒ½åªæœ‰åœ¨hexoé¡¹ç›®ä¸‹å¯¹æ–°å»ºçš„mdæ–‡ä»¶æ’å…¥é¡¶éƒ¨æ¨¡æ¿çš„ä½œç”¨ï¼Œåç»­å¯èƒ½è¿˜ä¼šå†åŠ å§</p><p>ç´¯ä¸€å¤©æ²¡å¤šå¤§æ”¶è·çš„æƒ³æ³•å°±æ˜¯ï¼šå¯ä»¥å­¦å­¦promptæ›´å¥½åœ°æ¥ç”¨gpt4</p><p>è¿˜è¦å­¦ä¹ ä¸‹typescriptï¼Œæ„Ÿè§‰å†™æ’ä»¶ä»€ä¹ˆçš„è¿˜æŒºæœ‰æ„æ€çš„ï¼Œ<br>ä¸‹æ¬¡æƒ³å†™ä¸€ä¸ªè‡ªå·±çš„ä»£ç ç”Ÿæˆæ’ä»¶ä»€ä¹ˆçš„</p><h1 id="hexo-helper-update"><a href="#hexo-helper-update" class="headerlink" title="hexo_helper update"></a>hexo_helper update</h1><p>ç°åœ¨æ’ä»¶å¯ä»¥åœ¨æ–‡ä»¶ä¿å­˜ä¹‹åè‡ªåŠ¨æäº¤æ–‡æ¡£äº†ï¼Œç¾å¦™çš„äº†<br>ä¸»è¦çš„é€»è¾‘å°±æ˜¯æˆ‘é»˜è®¤äº†å¦‚æœæ–‡ç« æœ‰äº†æ ‡é¢˜ä¹‹åå°±å¯ä»¥è¿›è¡Œéƒ¨ç½²</p><p>ä»£ç ä¹Ÿæ¯”è¾ƒç®€å•å°±æ˜¯åœ¨ä¿å­˜çš„æ—¶å€™ç›´æ¥æäº¤å‘½ä»¤å°±è¡Œ<br>ä»£ç å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function deployHexoBlog() &#123;</span><br><span class="line">    <span class="keyword">return</span> new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        //const options = &#123; cwd: <span class="string">&#x27;D:\\hexo_blog\\blog&#x27;</span> &#125;; // æ›¿æ¢ä¸ºæ‚¨çš„Hexoæ ¹ç›®å½•</span><br><span class="line">        <span class="built_in">exec</span>(<span class="string">&#x27;cd D:\\hexo_blog\\blog &amp; hexo cl &amp; hexo g &amp; hexo d&#x27;</span>, (error, stdout, stderr) =&gt; &#123;</span><br><span class="line">            console.log(<span class="string">&#x27;stdout:&#x27;</span>, stdout);</span><br><span class="line">            console.log(<span class="string">&#x27;stderr:&#x27;</span>, stderr);</span><br><span class="line">            <span class="keyword">if</span> (error) &#123;</span><br><span class="line">                vscode.window.showErrorMessage(`ğŸ¥µ Something wrong <span class="keyword">in</span> deploying blog: $&#123;error&#125;`, &#123; modal: true &#125;);</span><br><span class="line">                console.error(`<span class="built_in">exec</span> error: $&#123;error&#125;`);</span><br><span class="line">                reject(error);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            vscode.window.showInformationMessage(<span class="string">&#x27;ğŸ¥³ Yes!Blog deployed successfully!&#x27;</span>);</span><br><span class="line">            resolve(stdout);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¨æ˜¯GPTçš„åŠŸåŠ³ï¼<br>ç°åœ¨å¯ä»¥è¯´æˆ‘çš„æ’ä»¶è¯¥æœ‰åå­—äº†ï¼Œä¹Ÿç®—æ˜¯æˆ‘çš„ä¸€ä¸ªå°é¡¹ç›®<br>åæœŸæ›´æ–°çš„è¯å¯èƒ½ä¼šå¼•å…¥é…ç½®æ–‡ä»¶äº†æ˜¯ï¼Œè®©æ¨¡æ¿å’Œtagséƒ½èƒ½åœ¨é…ç½®ä¸­è¿›è¡Œæ›´æ”¹<br>å†è¿›ä¸€æ­¥å¯ä»¥å¼•ç”³åˆ°æ›´å¤šçš„æ–‡ä»¶ç±»å‹å’Œæ¨¡æ¿ï¼ğŸ¥°</p><h1 id="todo-list"><a href="#todo-list" class="headerlink" title="todo list"></a>todo list</h1><ul><li><input checked="" disabled="" type="checkbox"> ä¿å­˜æ–‡ä»¶æ—¶å¼¹å‡ºçª—å£é€‰æ‹©æ–‡ç« tags</li><li><input checked="" disabled="" type="checkbox"> ~~å®Œæˆä¸€ç¯‡å¤§æ¨¡å‹å…¬å¹³æ€§æ–‡çŒ®é˜…è¯» æ”¶é›†å‡ ç¯‡å¤§æ¨¡å‹å…¬å¹³æ€§è®ºæ–‡</li><li><input checked="" disabled="" type="checkbox"> Bç«™è§†é¢‘æœ¬åœ°éƒ¨ç½²llama2 ~~ä¸‹è½½ä¸äº†æ¨¡å‹çº¯çº¯å°é—®é¢˜</li><li><input checked="" disabled="" type="checkbox"> æ›´æ–°æ’ä»¶è®©å®ƒèƒ½åœ¨ä¿å­˜æ—¶è‡ªåŠ¨æäº¤</li><li><input checked="" disabled="" type="checkbox"> æä¸ªå›¾åºŠï¼Œæ‰¾ä¸€äº›é«˜æ¸…å›¾åƒèµ„æºï¼ŒæŠŠåšå®¢èƒŒæ™¯å’Œæ–‡ç« å°é¢ä»€ä¹ˆçš„éƒ½æ¢äº†</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å­¦ä¹ æ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
